% Začetek preambule
\documentclass[a4paper, 12pt]{amsart}
\usepackage[slovene]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{amsfonts,amsmath,amssymb}
\usepackage{graphicx}
\usepackage{url}
\usepackage{hyperref}

% ne spreminjaj podatkov, ki vplivajo na obliko strani
\textwidth 15cm
\textheight 24cm
\oddsidemargin.5cm
\evensidemargin.5cm
\topmargin-5mm
\addtolength{\footskip}{10pt}
\pagestyle{plain}
\overfullrule=15pt % oznaci predlogo vrstico


% ukazi za matematicna okolja
\theoremstyle{definition} % tekst napisan pokoncno
\newtheorem{definicija}{Definicija}[section]
\newtheorem{primer}[definicija]{Primer}
\newtheorem{opomba}[definicija]{Opomba}

\newtheorem{zgled}[definicija]{Zgled}

\theoremstyle{plain} % tekst napisan posevno
\newtheorem{lema}[definicija]{Lema}
\newtheorem{izrek}[definicija]{Izrek}
\newtheorem{trditev}[definicija]{Trditev}
\newtheorem{posledica}[definicija]{Posledica}


% simboli za stevilske mnozice 
\newcommand{\R}{\mathbb R}
\newcommand{\N}{\mathbb N}
\newcommand{\Z}{\mathbb Z}
\newcommand{\C}{\mathbb C}
\newcommand{\Q}{\mathbb Q}
\newcommand{\F}{\mathbb F}
\newcommand{\M}{\mathbb M}

% ukazi za prvo stran
\newcommand{\program}{Matematika } % ime studijskega programa: Matematika
\newcommand{\imeavtorja}{Klemen Pavlič} % ime avtorja
\newcommand{\imementorja}{doc.~dr. David Dolžan} % akademski naziv in ime mentorja
\newcommand{\naslovdela}{Naslov}
\newcommand{\letnica}{2014} %letnica diplome

% moje definicije ...
\DeclareMathOperator{\aut}{Aut}
\DeclareMathOperator{\ann}{ann}
\DeclareMathOperator{\diam}{diam}
\DeclareMathOperator{\nil}{Nil}
\DeclareMathOperator{\dist}{dist}
\DeclareMathOperator{\GF}{GF}
\DeclareMathOperator{\deter}{det}


% začetek dokumenta
\begin{document}
\thispagestyle{empty}
\noindent{\large
UNIVERZA V LJUBLJANI\\[1mm]
FAKULTETA ZA MATEMATIKO IN FIZIKO\\[5mm]
\program -- 2.~stopnja}
\vfill

\begin{center}{\large
\imeavtorja\\[2mm]
{\bf \naslovdela}\\[10mm]
Magistrsko delo\\[1cm]
Mentor: \imementorja}
\end{center}
\vfill

\noindent{\large
Ljubljana, \letnica}
\pagebreak

\thispagestyle{empty}
\tableofcontents
\pagebreak

\thispagestyle{empty}
\begin{center}
{\bf \naslovdela}\\[3mm]
{\sc Povzetek}
\end{center}
% tekst povzetka v slovenscini
Tekst povzetka v slovenščini.
\vfill
\begin{center}
{\bf Title}\\[3mm] % prevod slovenskega naslova dela 
{\sc Abstract}
\end{center}
% tekst povzetka v anglescini
Tekst povzetka v angleščini.

\vfill\noindent
{\bf Math. Subj. Class. (2010):} 05C25, 05C12, 05C15, 05C45  \\[1mm]  
{\bf Klju"cne besede:} graf deliteljev niča, komutativen kolobar, barvanje povezav, Hamiltonov graf, Eulerjev graf, ravninski graf, avtomorfizem grafa  \\[1mm]  
{\bf Keywords:} zero-divisor graph, commutative ring, edge coloring, Eulerian graph, Hamiltonian graph, planar graph, graph automorphism
\pagebreak

\section{Uvod}

\section{Na kratko o lastnostih kolobarjev}
\begin{lema}
\label{nilpotent}
Naj bo $R$ končen nenilpotenten kolobar brez enote. Potem lahko zapišemo $R\cong R_1 \oplus R_2 \oplus \cdots \oplus R_m$, kjer je $m \ge 1, |R_i| = p_i^{\alpha_i}, i=1, 2, dots, m$ in so $p_1,p_2,\dots,p_m$ različna praštevila. Trdimo še, da obstaja $1 \le j \le m$, da $R_j$ vsebuje neničelni nilpotentni element.
\end{lema}

\proof
Prvi del trditve sledi iz razcepa končnih abelovih grup, potrebno je preveriti le usklajenost množenja (glej diplomo). 

Dokažimo torej, da obstaja neničelni nilpotent. Trditev zadošča dokazati za nerazcepen kolobar $R$ moči $|R|=p^n$ za neko praštevilo $p$ in naravno število $n$. Zadošča pokazati, da je Jacobsonov radikal $J(R)\neq 0$, saj je ta nilpotenten tudi v kolobarjih brez enote, kar bomo dokazali spotoma. Recimo nasprotno, da je $J(R) = 0$. Vložimo naš kolobar $R$ v kolobar z enoto $\Z_m \times R$, kjer je $m=p^n$ in je množenje definirano kot $(k,a)\cdot (l,b) = (kl,kb+la+ab)$, kjer sta $k,l\in \Z_m$ ter $a,b\in R$. Oglejmo si kakšni so maksimalni levi ideali $\Z_m \times R$. Naj bo najprej $m_1$ nek maksimalni ideal v $\Z_m$. Trdimo, da je $m_1\times R$ maksimalni levi ideal v $\Z_m \times R$. Res, za poljubna $(k,a)\in \Z_m \times R$ in $(l,b)\in m_1 \times R$ namreč velja $(k,a)\cdot (l,b) = (kl, kb+ la+ab)\in m_1 \times R$, ker je $m_1$ ideal. Sklenemo, da je $m_1\times R$ res levi ideal, očitno pa je tudi maksimalen. Denimo sedaj, da imamo še nek maksimalni levi ideal $m_2$ v $R$. Poglejmo si, kaj mora veljati za $\{(k,a); k\in \Z_m, a\in m_2\}$, da bo to maksimalni levi ideal v $\Z_m\times R$. Naj bo zdaj $(l,b)\in \Z_m \times R$ poljuben. Potem mora biti $(lk, kb+la+ba)$ iz zgornje množice, kar v posebnem pomeni, da mora biti za vsak $b\in R$ $kb+la+ba\in m_2$. Od tu sklenemo, da so v zgornji množici le elementi, ki imajo prvo komponento enako 0. Sklenemo, da je tudi $\{0\}\times m_2$ maksimalni levi ideal v $\Z_m \times R$. Poglejmo si sedaj, kakšen je Jacobsonov radikal kolobarja $\Z_m\times R$. Po definiciji velja
$$
J(\Z_m\times R) = \big(\bigcap (M_1\times R)\big) \cap\big (\bigcap (\{0\}\times M_2)\big),
$$
kjer so $M_1\in \text{Specmax}(\Z_m)$ in $M_2$ maksimalni levi ideali kolobarja $R$. Zgornje pa je naprej enako
$$
J(\Z_m \times R) = \{0\}\times (\cap M_2) = \{0 \} \times J(R),
$$
kar je po naši predpostavki naprej enako $J(\Z_m\times R) = 0$. To pa pomeni, da je kolobar $\Z_m\times R$ polprimitiven, kar pa je za artinske kolobarje(torej tudi za končne) enakovredno temu, da je $\Z_m \times R$ polenostaven kolobar. Sedaj pa uporabimo Wedderburn-Artinov izrek in zaključimo, da je $\Z_m \times R \cong \M_{n_1} (D_1)\times \dots \times\M_{n_r}(D_r)$, kjer so $D_i$ obsegi in $n_i$ naravna števila. Če bi za kak $n_i$ veljalo, da je $n_i\ge 2$, bi imeli nilpotentne elemente, torej $J(\Z_m\times R) \neq 0$. Sklenemo, da $n_i = 1, i=1,\dots,r$. Ker je $|\Z_m\times R|<\infty$ lahko zaključimo še, da so $D_i$ končni obsegi, torej po malem Wedderburnovem izreku polja. Velja torej, da je $\Z_m \times R \cong F_1 \times \dots \times F_r$, kjer so $F_i$ končna polja. 

Naj bo zdaj $F$ poljubno končno polje in $0\neq S\subset F$ poljuben podkolobar. Ker je $F^*$ končna grupa, je red vsakega elementa iz $F$ končen. To pomeni, da za vsak $s\in S$ obstaja $n\in \N$, da je $s^n=1$. Posebej to pomeni, da $S$ vsebuje enoto za množenje. 

Ker je $R$ podkolobar v $\Z_m\times R \cong F_1 \times \dots\times F_r$, je $R\cong R_1\times \dots \times R_r$, kjer je $R_i\subset F_i$ poljuben podkolobar. Za vsak $R_i$ velja, da je bodisi enak 0 bodisi vsebuje enoto $F_i$. Predpostavimo lahko, da $R_i \neq 0, i = 1,\dots,k $ in $R_i = 0, i =k+1,\dots,r$. Potem pa je $(1_{F_1},\dots,1_{F_k},0,\dots,0)$ enota kolobarja $R$. S tem pa smo prišli v protislovje z našo začetno predpostavko, da je $R$ kolobar brez enote. Zaključimo, da $J(R)\neq 0$ in da $R$ vsebuje neničelni nilpotent. 

\endproof		

\begin{opomba}
V dokazu smo uporabili, da je Jacobsonov radikal nilpotenten tudi v kolobarjih brez enote. To sledi iz dejstva, da lahko Jacobsonov radikal danega kolobarja brez enote identificiramo z Jacobsonovim radikalom kolobarja z enoto, v katerega vložimo dani kolobar brez enote na način kot v dokazu, za kolobarje z enoto pa vemo, da je Jacobsonov radikal nilpotenten.
\end{opomba}

\begin{lema}
\label{inverz}
Naj bo $R$ končen kolobar z enoto. Naj bo $a\in R$ element, za katerega velja $l_R(a) = 0 $ oziroma $r_R(a)=0$. Potem ima $a$ levi oziroma desni inverz. Če oba inverza obstajata, sta enaka. 
\end{lema}

\proof
Opazujmo preslikavo $x \mapsto xa$. Ker je $l_R(a) = 0$, je ta preslikava bijektivna. To pa pomeni, da obstaja $a_L\in R$, tako da je $a_L a = 1$, torej je $a_L$ levi inverz $a$. Analogno dokažemo, da obstaja desni inverz. Če pa obstajata oba, velja
$$
a_L = a_L(aa_D) = (a_L a)a_D = a_D,
$$
torej je levi inverz $a_L$ enak desnemu inverzu $a_D$.
\endproof

Zgornja lema nam pove, da za vsak element $a$ v končnem kolobarju z enoto $R$ velja, da je $a$ bodisi desni delitelj niča (če je $l_R(a)\neq 0$) bodisi ima levi inverz (če je $l_R(a)=0$) oziroma analogno je bodisi $a$ levi delitelj niča (če $r_R(a) \neq 0$) bodisi ima desni inverz (če $r_R(a) = 0$). Sedaj se pojavi vprašanje, če obstaja kaka povezava med levimi in desnimi delitelji niča. Delno nam na to odgovori naslednja lema, ki nam pove, da so v matričnem kolobarju levi delitelji niča enaki desnim deliteljem niča.

\begin{lema}
\label{enostranskiDelitelji0Matricni}
Naj bo $R$ komutativen kolobar z enoto. Naj bo $A\in M_{n,n}(R)$. Potem velja
\begin{enumerate}
\item $A$ je levi delitelj niča v $M_{n,n}(R)$ natanko tedaj, ko je $\deter(A)\in Z(R)$,
\item $A$ je desni delitelj niča v $M_{n,n}(R)$ natanko tedaj, ko je $\deter(A)\in Z(R)$
\end{enumerate}
\end{lema}

\proof

 \endproof
V primeru, ko je $R$ polje nam zgornja lema poda dobro znano dejstvo, da je matrika obrnljiva natanko tedaj, ko je njena determinanta neničelna.


\begin{lema}
\label{enota}
Naj bo $R$ končen kolobar. Če obstaja $a\in R$ tak, da je $r_R(a) = l_R(a) = 0$, potem ima $R$ enoto za množenje.
\end{lema}

\proof
Poglejmo si preslikavo $R \rightarrow R, x\mapsto xa$. Gre za homomorfizem abelovih grup in ker je $l_R(a) = 0$, je to injektivna preslikava. Ker pa je $R$ končen, je torej bijekcija. Obstaja torej $x \in R$, da je $xa = a$. Sklenemo, da za poljuben $t\in R$ velja $ta = txa$ od koder lahko zakjučimo, da je $(t-tx)a = 0$ in ker je $l_R(a) = 0$, sklenemo, da  za vsak $t\in R$ velja zveza $t = tx$. To pa pomeni, da je $x$ desna enota za množenje.

Analogno ob upoštevanju dejstva, da je $r_R(a) = 0$ in z opazovanjem preslikave $R\rightarrow R, y \mapsto ay$ pridemo do sklepa, da obstaja $y \in R$, da je $ay=a$. Prav tako za vsak $t\in $ velja $ayt = at$ oziroma $yt=t$, kar zaključimo iz dejstva, da je $r_R(a) =0$. Velja, da je $y$ leva enota za množenje.

Ker pa veljata za vsak $t\in R$ zvezi $yt=t$ in $tx=t$, dobimo $y=yx=x$, torej je $x=y$ enota kolobarja $R$.
\endproof

\begin{lema}
\label{pkolobar}
Naj bo $R$ kolobar moči $p$. Potem je $R$ bodisi izomorfen $\Z_p = \GF(p)$ bodisi je ničelni kolobar.
\end{lema} 

\proof
Denimo, da $R$ nima trivialnega množenja. Pokažimo najprej, da $R$ ne more imeti neničelnega enostranskega delitelja niča. V ta namen si najprej pogledamo množico $\tilde{Z_l}(R) = \{x\in R; xy = 0 \text{ za vsak } y\in R\}$. Jasno je to podgrupa, torej je bodisi enaka 0 bodisi $R$. Vemo, da druga možnost odpade, ker nimamo trivialnega množenja, torej je $\tilde{Z_l}(R) = 0$. Enako vidimo, da je $\tilde{Z_r}(R) = 0$, kjer je $\tilde{Z_r}(R) = \{x\in R; yx = 0 \text{ za vsak } y\in R\}$. Pokažimo sedaj še, da ne moremo imeti takega elementa, ki bi pri množenju uničil le del elementov kolobarja. Res, če opazujemo leve ali desne anihilatorje, potem spet vidimo, da so to podgrupe. V primeru, ko je enostranski anihilator nekega elementa cel $R$, zaključimo da je opazovani element iz $\tilde{Z_l}(R)$ ali $\tilde{Z_r}(R)$, torej je enak 0. Po lemi \ref{enota} ima $R$ potem enoto. Po lemi \ref{inverz} je $R$ obseg, ker pa je končen je $R\cong \GF(p)$.
\endproof

\begin{lema}
\label{ortogIdemp}
Naj bo $R$ kolobar brez enostranske enote za množenje. Potem $R$ ne vsebuje ortogonalnih idempotentov, kar pomeni, da v $R$ ne obstajata idempotenta $e = e^2$ in $f= f^2$ za katera bi veljalo $ef = 0 = fe$.
\end{lema}

\proof
Denimo, da taka idempotenta $e$ in $f$ obstajata. Potem lahko grupo $R$ zapišemo kot 
$$
R = eRe + eRf + fRe +fRf,
$$
poljuben element $x\in R$ pa kot $x = e x_1 e +  e x_2 f + f x_3 e + f x_4 f$. Enostaven račun nam pokaže, da je $(e+f)x = x$, torej je $e+f$ enostranska enota za množenje. Protislovje.
\endproof

\begin{lema}
\label{idempotent}
Naj bo $R$ končen nenilpotenten kolobar. Potem $R$ vsebuje idempotent.
\end{lema}

\proof
Ker je $R$ končen in nenilpotenten, obstaja element $0\neq a\in R$, da je $a^n = a^{n+r}$ za neki naravni števili $n,r$. Iz zgornje zveze takoj sledi, da je $a^n = a^{n+ \alpha r}$, kjer je $\alpha \in \N$ poljubno naravno število. Če obe strani zadnje enakosti pomnožimo še z $a^\beta, \beta \in \N$, dobimo zvezo
$$
a^{n+\beta} = a^{n+\alpha r +\beta}.
$$ 
Poiskati želimo $\alpha,\beta \in \N$, da bo veljalo $n+ \alpha r +\beta = 2(n+ \beta)$ oziroma $n+ \beta = \alpha r$. To pa z lahkoto dosežemo tako, da izberemo $ \alpha = \min\{\tilde{\alpha} \in \N; \tilde{\alpha} r \ge n \}$ in $\beta = \alpha r - n$. Iz konstrukcije je jasno, da sta $\alpha, \beta \in \N$ in da je element $a$ res idempotent.
\endproof

\begin{lema}
\label{antikomutativnost}
Naj bo $R$ tak kolobar, da za vsak $x\in R$ velja $x^2 =0 $. Potem je $R$ antikomutativen, kar pomeni, da za poljubna $x,y\in R$ velja $xy = -yx$.
\end{lema}

\proof
Naj bosta $x,y\in R$ poljubna neničelna elementa. Velja 
$$
0 = (x+y)^2 = x^2 + xy + yx + y^2 = xy + yx.
$$ 
\endproof

\begin{lema}
\label{nilpotenten}
Naj bo $R$ končen kolobar in naj za vsak $x\in R$ velja $x^2 = 0$. Sledi, da je $R$ nilpotenten.
\end{lema}

\proof
Naj bo $r_1, \dots, r_k$ množica generatorjev kolobarja. Potem se v produktu poljubnih $k+1$ generatorjev zagotovo vsaj eden pojavi dvakrat. Po lemi \ref{antikomutativnost}, je $R$ antikomutativen, zato lahko dosežemo, da v produktu poljubnih $k+1$ generatorjev nastopi kvadrat nekega elementa, torej je produkt enak 0. To pa pomeni, da je $R^{k+1} = 0$ in je zato $R$ nilpotenten.  
\endproof

\begin{opomba}
Če je $R$ kolobar in za vsak $x\in R$ velja $x^2 = 0$, potem je vsak element $R$-ja kvazi regularen. Res, velja namreč $x+ (-x)  - x(-x) = x-x+x^2 = 0$.
\end{opomba}

\begin{lema}
\label{anihilatorProduktZObrnljivim}
Naj bo $R$ končen kolobar z enoto. Naj bo $u\in U(R)$ obrnljiv element. Potem za vsak $a\in R$ velja 
$$
|l_R(ua)| = |l_R(au)| = |l_R(a)| \quad \text{in}\quad |r_R(ua)| = |r_R(au)| = |r_R(a)|.
$$
\end{lema}

\proof
Dokazali bomo le enakosti za leve anihilatorje, za desne namreč deluje analogen dokaz. 

Očitno velja $l_R(a) \subseteq l_R(au)$. Naj bo zdaj $y\in l_R(au)$. Potem je $yau=0$. Ker pa je $u$ obrnljiv element, iz te enačbe sledi $ya = 0$, torej $y\in l_R(a)$. Sklenemo, da velja $l_R(au) = l_R(a)$.

Definirajmo še preslikavo $\varphi : R \rightarrow R$ podano s predpisom $\varphi(x) = u^{-1}xu$. Ker je $u$ obrnljiv element, se z lahkoto preveri, da je ta preslikava homomorfizem in bijekcija, torej avtomorfizem. Pokažimo sedaj, da za poljubni avtomorfizem $\theta$ velja $\theta(l_R(x)) = l_R(\theta(x))$. Res, če je namreč $y\in l_R(x)$, potem iz $\theta(y) \theta(x) = \theta(yx) = \theta(0) = 0$ sledi $\theta(y) \in l_R(\theta(x))$. Sledi $\theta(l_R(x)) \subseteq l_R(\theta(x))$. Pokažimo še obratno vsebovanost. Naj bo $y\in l_R(\theta(x))$. Ker je $\theta$ avtomorfizem, obstaja $z$, da je $\theta(z) = y$. Potem velja $0 = y\theta(x) = \theta(z) \theta(x)= \theta(zx)$, torej je $zx=0$. Sledi $y=\theta(z) \in \theta(l_R(x))$ in posledično $l_R(\theta(x)) \subseteq \theta(l_R(x))$. Dobili smo zvezo $\theta(l_R(x)) = l_R(\theta(x))$, ki implicira enakost $|l_R(x)| = |l_R(\theta(x))|$. To pomeni, da to velja tudi za zgoraj definirani avtomorfizem $\varphi$. Če vstavimo za $x= ua$, dobimo $\varphi(ua) = au$. Sledi $|l_R(ua)| =|l_R(\varphi(ua))| = |l_R(au)|$.
\endproof

\section{Idempotenti in SBI-kolobarji}
% SBI-RINGS

Naj bo $R$ kolobar in $e\in R$ idempotent. Potem je element $\overline{e} = e + J(R)$ idempotent v kvocientnem kolobarju $\overline{R}=R/J(R)$, saj velja $\overline{e}^2 = (e+J(R)) (e+J(R)) = e^2 + J(R) = e+J(R) = \overline{e}$. Če ima $R$ še enoto in je $e$ kvazi reguaren idempotent, potem iz pogoja $e(1-e) = 0$ sledi, da je $e=0$, saj je kvaziregularnost elementa $e$ ekvivalentna zahtevi, da je $1-e$ obrnljiv element. Ker so elementi $J(R)$ kvazi regularni, sledi, da je $0$ edini idempotent v $J(R)$. To se ujema z že znanim dejstvom, da je $J(R)$ nilpotenten. 

Pri opazovanju idempotentov v matrikah dobimo idejo za naslednjo lemo.

\begin{lema}
\label{izomorfniPodmoduliElementi}
Naj bo $R$ kolobar in $e_1 = e_1^2 , e_2=e_2^2\in R$ idempotenta. Potem sta leva $R$-modula $Re_1$ in $Re_2$ izomorfna natanko tedaj, ko v $R$ obstajata elementa $e_{12}, e_{21}$, za katera velja
$$
e_1 e_{12} e_2 = e_{12}, \quad e_2 e_{21} e_1 = e_{21}, \quad e_{12}e_{21} = e_1, \quad e_{21}e_{12} = e_2.
$$
\end{lema}

\proof
Naj bo najprej $\varphi : Re_1 \rightarrow Re_2$ izomorfizem levih $R$-modulov. Definiramo 
$$
e_{12} = \varphi(e_1) \quad \text{in} \quad e_{21} = \varphi^{-1}(e_2).
$$
Potem velja 
$$
e_1 e_{12} = e_1\varphi(e_1) = \varphi(e_1^2) = \varphi(e_1) = e_{12}
$$
in
$$
e_2 e_{21} = e_2\varphi^{-1}(e_2) = \varphi^{-1}(e_2^2) = \varphi^{-1}(e_2) = e_{21}.
$$
Ker je $e_{12} = \varphi (e_1) \in Re_2$, lahko zapišemo $e_{12} = r_{12}e_2$ in zato velja $e_{12}e_2 = r_{12}e_2 e_2 = e_{12}e_2^2 = r_{12}e_2 = e_{12}$. Ker pa je $e_{21} = \varphi^{-1}(e_2) \in Re_1$, lahko zapišemo $e_{21} = r_{21}e_1$. Od tu takoj spet poračunamo $e_{21}e_1 = r_{21}e_1e_1 = r_{21}e_1^2 = r_{21}e_1=e_{21}$. Dobili smo torej zveze
$$
e_1e_{12} = e_{12},\quad  e_2 e_{21} = e_{21}, \quad e_{12} e_2 = e_{12}, \quad e_{21} e_1 = e_{21}.
$$
S pomočjo teh zvez z lahkoto dokažemo prve dve izmed željenih zvez. Res, velja namreč 
$$
e_1 e_{12} e_2 = (e_1 e_{12}) e_2 = e_{12} e_2 = e_{12}\quad \text{in}\quad e_2 e_{21}e_1 = (e_2 e_{21}) e_1 = e_{21}e_1 = e_{21}.
$$
Dokažimo še preostali dve zvezi. Spet si bomo pomagali z zgornjimi ugotovitvami. Velja
$$
e_1 = \varphi^{-1}(\varphi(e_1)) = \varphi^{-1}(e_{12}) = \varphi^{-1}(e_{12} e_2) = e_{12} \varphi^{-1}(e_2) = e_{12} e_{21}
$$
in
$$
e_2 = \varphi(\varphi^{-1}(e_2)) = \varphi(e_{21}) = \varphi(e_{21}e_1)=e_{21}\varphi(e_1) = e_{21} e_{12}.
$$
S tem je trditev v eno smer dokazana. Pokažimo še obrat.

Naj torej neka elementa $e_{12}, e_{21}$ zadoščata zvezam
$$
e_1 e_{12} e_2 = e_{12}, \quad e_2 e_{21} e_1 = e_{21}, \quad e_{12}e_{21} = e_1, \quad e_{21}e_{12} = e_2.
$$
Definirajmo preslikavo $\varphi : Re_1 \rightarrow Re_2$ podano s predpisom $\varphi(e_1) = e_{12}$. Z lahkoto se preveri, da je $\varphi$ dobro definiran homomorfizem levih $R$-modulov. Na podoben način definiramo še preslikavo $\psi:Re_2 \rightarrow Re_1$ podano s predpisom $\psi(e_2) = e_{21}$, ki je prav tako dobro definiran homomorfizem levih $R$-modulov.
Preverimo sedaj, da velja $\psi(\varphi(e_1)) = e_1$ in $\varphi(\psi(e_2)) = e_2$. Res, velja namreč
$$
\psi(\varphi(e_1)) = \psi(e_{12}) = \psi(e_1 e_{12}e_2) = e_1 e_{12}\psi(e_2) = e_1 e_{12} e_{21} = e_1 e_1 = e_1^2 = e_1
$$
in
$$
\varphi(\psi(e_2)) = \varphi(e_{21}) = \varphi(e_2 e_{21} e_1) = e_2 e_{21} \varphi(e_1) = e_2 e_{21} e_{12} = e_2 e_2 = e_2^2 = e_2. 
$$
Iz zveze $\psi(\varphi(e_1)) = e_1$ sledi, da je $\varphi$ injektivna, $\psi$ pa surjektivna. Iz zveze $\varphi(\psi(e_2)) = e_2$ pa sledi, da je $\psi$ injektivna, $\varphi$ pa surjektivna. Sklenemo, da sta $\varphi, \psi$ bijekciji, torej izomorfizma. Sledi še $\psi = \varphi^{-1}$. S tem je lema dokazana.
\endproof

\begin{opomba} 
Analogno lemo lahko dokažemo za desne $R$-module. V prvem delu dokaza se spremeni le to, da definiramo $e_{21} = \varphi(e_1)$ in $e_{12} = \varphi^{-1} (e_2)$, nato pa z lahkoto dokažemo podobne zveze kot zgoraj in jih podobno uporabimo za dokaz željenih zvez iz formulacije leme. Podobno tudi v drugem delu definiramo homomorfizma $\varphi:e_1 R \rightarrow e_2 R$ s predpisom $\varphi(e_1) = e_{21}$ in $\psi : e_2R \rightarrow e_1 R$ s predpisom $\psi(e_2) = e_{12}$, nato pa z  njuno pomočjo pokažemo, da sta desna $R$-modula $e_1 R$ in $e_2 R$ izomorfna.
\end{opomba}

\begin{lema}
\label{izomorfniPodmoduliKvocient}
Naj bo $R$ kolobar. Označimo $\overline{R} = R/J(R)$. Naj bosta $e_1 = e_1^2 \neq 0$ in $e_2  =  e_2^2 \neq 0 $ idempotenta v $R$. Potem velja, da sta $R$-podmodula $Re_1$ in $Re_2$ modula $R$ izomorfna natanko tedaj, ko sta izomorfna $\overline{R}$ podmodula $ \overline{R}\overline{e}_1$ in $ \overline{R} \overline{e}_2$ modula $\overline{R}$. 
\end{lema}

\proof
Denimo, da sta $R e_1 \cong Re_2$. Potem po lemi \ref{izomorfniPodmoduliElementi} obstajata elementa $e_{12}, e_{21} \in R$, ki zadoščata zvezam
$$
e_{12}e_{21} = e_1, \quad e_{21}e_{12} = e_2, \quad  e_1 e_{12} e_2 = e_{12}, \quad e_2 e_{21} e_1 = e_{21}.
$$
Poglejmo si preslikavo $\varphi: R\rightarrow R/J(R)$ podano s predpisom $x\mapsto \overline{x} = x+J(R)$. Naj bosta $\overline{e}_{12} = \varphi(e_{12}), \overline{e}_{21} = \varphi(e_{21})$. Zanju velja
$$
\overline{e}_{12} \overline{e}_{21} = (e_{12} + J(R))(e_{21} + J(R)) = e_{12} e_{21} + J(R) = e_1 + J(R) = \overline{e}_1,
$$
$$
\overline{e}_{21} \overline{e}_{12} = (e_{21} + J(R))(e_{12} + J(R)) = e_{21} e_{12} + J(R)  = e_2 + J(R) = \overline{e}_2,
$$
$$
\overline{e}_1 \overline{e}_{12} \overline{e}_2 = (e_1 + J(R)) (e_{12} + J(R)) (e_2 + J(R)) = e_1 e_{12} e_2 + J(R) = e_{12} + J(R) = \overline{e}_{12},
$$
$$
\overline{e}_2 \overline{e}_{21} \overline{e}_1 = (e_2 + J(R)) (e_{21} + J(R)) (e_1 + J(R)) = e_2 e_{21} e_1 + J(R) = e_{21} + J(R) = \overline{e}_{21}.
$$
Ker vse te zveze veljajo, po lemi \ref{izomorfniPodmoduliElementi} sledi, da je tudi $\overline{R} \overline{e}_1 \cong \overline{R}\overline{e}_2$.

Dokažimo še obrat. Ker je $\overline{R}\overline{e}_1 \cong \overline{R}\overline{e}_2$, obstajata elementa $u_{12},u_{21} \in R$ za katera velja 
$$
\overline{e}_1 \overline{u}_{12}\overline{e}_2 = \overline{u}_{12}, \quad \overline{e}_2 \overline{u}_{21} \overline{e}_1 = \overline{u}_{21}, \quad \overline{u}_{12}\overline{u}_{21} = \overline{e}_1, \quad \overline{u}_{21} \overline{u}_{12} = \overline{e}_2.
$$
Predpostavimo lahko, da velja $e_1 u_{12} e_2 = u_{12} $ in $e_2 u_{21} e_1 = u_{21}$ (sicer zamenjamo $u_{12}$ z $e_1 u_{12} e_2$ in $u_{21}$ z $e_2 u_{21} e_1$).

Ker velja 
$$
e_1 + J(R) = \overline{e}_1 = \overline{u}_{12} \overline{u}_{21} = \overline{e}_1 \overline{u}_{12} \overline{e}_2 \overline{e}_2 \overline{u}_{21} \overline{e}_1 = e_1 u_{12} e_2 u_{21} e_1 + J(R),
$$
je $e_1 - e_1 u_{12} e_2 u_{21} e_1 \in J(R)$. Ker je $e_1$ idempotent, je  $e_1 - e_1 u_{12} e_2 u_{21} e_1 \in e_1 R e_1$. Izberemo lahko torej $z_1 \in e_1Re_1 \cap J(R)$, da je $u_{12}u_{21} = e_1 - z_1$. Ker je $z_1\in J(R)$, je kvazi regularen in naj bo $z_1'$ njegov kvazi inverz, kar pomeni, da je $z_1 + z_1' - z_1 z_1' = 0$. Potem je 
$$
u_{12} u_{21} (e_1 - z_1') = (e_1 - z_1)(e_1 - z_1') = e_1 - e_1 z-1' - z_1 e_1 + z_1 z_1' = 
$$
$$
e_1 - e_1 z_1' - e_1 z_1 + e_1 z_1 z_1' = e_ 1 - e_1 (z_1' +z_1 - z_1 z_1') = e_1  - e_1 \cdot 0 = e_1.
$$
Definirajmo sedaj $e_{12} = u_{12} $ in $e_{21} = u_{21} (e_1 - z_1')$. Potem jasno velja $\overline{e}_{12} = \overline{u}_{12}$. Velja tudi $\overline{e}_{21} = \overline{u_{21}(e_1 - z_1')} = \overline{u_{21} e_1} = \overline{u}_{21} \overline{e}_1 = \overline{e}_2 \overline{u}_{21} \overline{e}_1 \overline{e}_1 =  \overline{e}_2 \overline{u}_{21} \overline{e}_1 = \overline{u}_{21}$.

Podobno kot zgoraj lahko zapišemo $e_{21} e_{12} = e_2 - z_2 $ za neki $z_2 \in e_2 Re_2 \cap J(R)$. Velja $e_{21}e_{12}e_{21}e_{12} = e_{21} e_1 e_{12} = e_{21} e_1 u_{12} = e_{21} u_{12} = e_{21} e_{12}$, kar pomeni, da je $(e_{21} e_{12})^2 = e_{21} e_{12}$. To je ekvivalentno temu, da je $(e_2 - z-2 )^2 = e_2 - z_2$. Iz te zveze pa lahko izrazimo $z_2$ kot $z_2 = e_2 - (e_2 - z_2)^2$. Naredimo naslednji račun
$$
z_2^2 = (e_2 - (e_2 - z_2)^2)^2 = e_2 - e_2(e_2-z_2)^2 - (e_2 - z_2 )^2 e_2 + (e_2 - z_2 )^4 = 
$$
$$
e_2 - (e_2 - z_2 )^2 - (e_2 - z_2)^2 + (e_2 - z_2)^2 = e_2 - (e_2 - z_2)^2 = z_2.
$$
To pa pomeni, da velja $z_2 = z_2^2$. Ker pa je $z_2\in J(R)$ in idempotenten, je $z_2 = 0$ (to smo že premislili, sledi pa iz tega, da so elementi $J(R)$ kvazi regularni, za $x\in J(R)$ pa je $1-x\in U(R)$). Ker je $z_2 = 0$, je $e_{21} e_{12} = e_2$. Že prej smo videli, da je $e_1 = u_{12}u_{21}(e_1 - z_1') = e_{12} e_{21}$. Velja še 
$$
e_1 e_{12}e_2 = e_1 u_{12} e_2 = u_{12} = e_{12}
$$
in
$$
e_2 e_{21} e_1 = e_2 u_{21}(e_1 - z_1') e_1 = e_2 u_{21} e_1 (e_1 - z_1') = u_{21}(e_1 - z_1') = e_{21}.
$$
Po lemi \ref{izomorfniPodmoduliElementi} sledi, da je $Re_1 \cong Re_2$.

\endproof

\begin{definicija}
\label{SBI-kolobar}
Naj bo $R$ kolobar in $J(R)$ njegov Jacobsonov radikal. Kolobar $R$ je \emph{SBI - kolobar} natanko tedaj, ko sta izpolnjena pogoja
\begin{enumerate}
\item za $z\in J(R)$ ima enačba $x^2 - x = z$ rešitev $z_1 \in J(R)$, za katero velja, 
\item da podkolobar elementov kolobarja $R$, ki komutirajo z $z$, sovpada s podkolobarjem elementov, ki komutirajo z $z_1$.  
\end{enumerate}
\end{definicija}

\begin{opomba}
Izraz SBI-kolobar je vpeljal Kaplansky in je okrajšava za \textit{suitable for building idempotent elements}. V nadaljevanju bomo videli, zakaj je tako poimenovanje smiselno.
\end{opomba}

\begin{lema}
\label{SBIlastnosti}
Naj bo $R$ SBI-kolobar z enoto. Potem velja
\begin{enumerate}
\item obstaja največ ena rešitev enačbe $x^2 - x = z$, ki zadošča drugemu pogoju iz definicije \ref{SBI-kolobar},
\item $zu = 0$ (oz. $uz = 0$) implicira  $z_1 u = 0$ (oz. $uz_1=0$),
\item če $z$ pripada desnemu (levemu) idealu $I$, potem $z_1\in I$.
\end{enumerate}
\end{lema}

\proof
\begin{enumerate}
\item Naj bosta $z_1, z_2$ rešitvi enačbe $x^2 -x = z$, ki zadoščata drugi točki definicije \ref{SBI-kolobar}. Ker je $z_2$ rešitev enačbe, jasno komutira z $z$. Po drugi točki definicije potem komutira tudi z $z_1$, torej $z_1 z_2 = z_2 z_1$. Po drugi strani pa oba rešita enačbo, torej je $z_1^2 - z_1 = z_2^2 - z_2$. To je naprej ekvivalentno $z_1^2 - z_2^2 - (z_1 - z_2) = 0$ oziroma $(z_1 - z_2)(z_1 +z_2 -1)=0$. Ker sta $z_1, z_2\in J(R)$, je tudi $z_1 + z_2 \in J(R)$, kar pomeni, da je element $z_1 + z_2 - 1$ obrnljiv. Zaključimo, da je mora veljati $z_1 - z_2 = 0$.
\item Iz pogoja $zu = 0$ sledi, da je $z_1^2 u - z_1 u = 0$ oziroma $(z_1 - 1)z_1 u = 0$. Ker je $z_1\in J(R)$, je $1- z_1$ obrnljiv, torej je $z_1 u = 0$.  
\item Ker je $z_1 \in J(R)$, je $z_1 = z(z_1 - 1)^{-1}$ in ker je $z\in I$, je tudi $z_1 \in I$.
\end{enumerate}
\endproof

Za dokaz neslednje leme bomo potrebovali dve tehnični lemi.
\begin{lema}
\label{SBItehnicna1}
Velja naslednja zveza
$$
\frac{1}{2}\big( 1- (1+4z)^{\frac{1}{2}}\big) = \sum_{n=1}^{\infty} \frac{1}{2n-1} \binom{2n-1}{n}(-z)^n.
$$
\end{lema}

\proof
Ker velja 
$$
\frac{1}{2}\big( 1- (1+4z)^{\frac{1}{2}}\big) = \frac{1}{2}\big( 1 - \sum_{n=0}^{\infty} {1/2 \choose n} (4z)^n \big) = -\frac{1}{2} \sum_{n=1}^{\infty} {1/2 \choose n} (4z)^n,
$$
zadošča dokazati, da za vsak $n\in \N$ velja
$$
-\frac{1}{2} {1/2 \choose n} 4^n = \frac{(-1)^n}{2n-1} {2n-1 \choose n}.
$$
Opazimo, da pri $n=1$ enakost velja.

Preoblikujemo izraz na levi strani
$$
-2^{2n-1} {1/2 \choose n} = -2^{2n-1} \frac{\frac{1}{2}(\frac{1}{2}-1)(\frac{1}{2} - 2)\cdots(\frac{1}{2} - n+1) }{n(n-1)\cdots 3 \cdot 2 \cdot 1} =
$$
$$
-2^{2n-1}\big(\frac{1}{2}\big)^n (-1)^{n-1} \frac{(2-1)(4-1)(6-1)\cdots (2(n-1)-1)}{n(n-1)\cdots 2 \cdot1} = 
$$
$$
(-1)^n 2^{n-1} \frac{1\cdot 3 \cdot 5 \cdot 7 \cdots (2n-5)(2n-3)}{n(n-1)\cdots 2\cdot1}.
$$
Ko si pogledamo izraz na desni, opazimo, da zadošča za vsak $n\ge 2$ dokazati zvezo
$$
2^{n-1}\big( 1\cdot 3 \cdot 5 \cdot 7 \cdots(2n-5)(2n-3)   \big) = (2n-2) (2n-1) \cdots (n+1) n.
$$
Uporabimo indukcijo. Pri $n=2$ na levi dobimo $2(4-3) = 2$, na desni pa $2\cdot 2 - 2 = 2$, torej se izraza ujemata. Pokažimo, da zveza velja za $n+1$. Po indukcijski predpostavki za $n$ velja 
$$
2^{n-1} (1\cdot 3\cdot 5 \cdots (2n-5)(2n-3)) = n(n+1)\cdots (2n-3)(2n-2).
$$
Napišimo levo stran željene enakosti pri $n+1$ in jo preoblikujmo. Dobimo
$$
2^n \big(1\cdot 3 \cdot 5 \cdots (2n-5)(2n-3)(2n-1)\big) = 2(2n-1) \big[2^{n-1}\big(1\cdot 3 \cdot 5 \cdots (2n-5)(2n-3) \big)\big]=
$$
$$
2(2n-1) \big[(2n-2)(2n-3)\cdots(n+1)n\big] = (2n)(2n-1)(2n-2)(2n-3)\cdots (n+1).
$$
Izraz na koncu pa je ravno desna stran željene enakosti pri $n+1$. S tem je lema dokazana.
\endproof

\begin{lema}
\label{SBItehnicna2}
Za vsak $n\in \N$ je 
$$
\frac{1}{2n-1} {2n-1 \choose n} \in \N.
$$
\end{lema}

\proof
Za $n\ge 1$ velja 
$$
\frac{1}{2n-1} {2n-1 \choose n} = \frac{1}{2n-1}\cdot\frac{(2n-1)!}{n! (n-1)!} = \frac{(2n-2)!}{n!(n-1)!} = \frac{1}{n} {2(n-1) \choose n-1} = C_{n-1},
$$
kjer je $C_n = \frac{1}{n+1}{2n \choose n}$ $n$-to Catalanovo število. 
\endproof

\begin{lema}
\label{nilJeSBI}
Naj bo $R$ enotski kolobar. Če je $J(R)$ nil ideal, je $R$ SBI-kolobar.
\end{lema}

\proof
Formalno rešimo enačbo $x^2 - x - z = 0$ in zapišimo $z_1 = \frac{1-(1+4z)^{\frac{1}{2}}}{2}$. Po lemi \ref{SBItehnicna1} razvijemo v vrsto
$$
z_1 = \sum_{n=1}^{\infty} \frac{1}{2n-1} \binom{2n-1}{n}(-z)^n.
$$
Po lemi \ref{SBItehnicna2} vemo, da so koeficienti cela števila. Ker je $z$ nilpotenten, gre dejansko za polinom v $z$-ju, torej je $z_1 \in J(R)$. Jasno je tudi, da poljuben element $x$ komutira z $z=z_1^2 - z_1$ natanko tedaj, ko komutira z $z_1$.
\endproof

\begin{primer}
Vsak artinski kolobar je SBI-kolobar.
\end{primer}

Naslednja lema upraviči poimenovanje SBI-kolobarjev.

\begin{lema}
\label{SBIEnIdem}
Naj bo $R$ SBI-kolobar z Jacobsnovim radikalom $J(R)$. Označimo z $\overline{R} = R/J(R)$ in $\overline{x} = x + J(R)$. Če je $\overline{u} \in \overline{R}$ idempotent, potem obstaja $e\in R$, ki zadošča $e^2 = e$ in $\overline{e} = \overline{u}$.
\end{lema}

\proof
Zapišemo lahko $u^2 = u+z$, kjer je $z\in J(R)$. Velja, da je element $1+4z$ obrnljiv in ker je $R$ SBI-kolobar, obstaja $z_1\in  J(R)$, ki reši enačbo $x^2 - x = -z(1+4z)^{-1}$. Ker $u$ komutira z $z=u^2 - u$, je jasno, da komutira tudi z $-z(1+4z)^{-1}$. Posledično tudi rešitev enačbe $z_1$ komutira z $u$ (sledi iz definicije SBI-kolobarja). Definirajmo $f=1-2z_1$ in $g=z_1$. Iz zgoraj napisanega sledi, da $f,g$ in $u$ paroma komutirajo. Preverimo sedaj, da velja
$$
f^2 +2fg = 1-4z_1 + 4 z_1^2 + 2z_1 - 4z_1^2 = 1 - 2z_1 = f
$$  
in
$$
zf^2 + g^2 = z(1-4z_1 + 4z_1^2) + z_1^2 =
$$
$$
z- 4zz_1 + z_1^2(1+4z) - z_1(1+4z) + z_1(1+4z) =
$$
$$
z - 4zz_1 + (z_1^2 - z_1)(1+4z) + z_1 +4zz_1 = z-z+z_1=z_1=g
$$,
torej smo dobili naslednji zvezi $f^2 + 2fg = f$ ter $zf^2 + g^2 = g$. Definiramo $e = uf +g$ in s pomočjo gornjih dveh zvez poračunajmo, da je $e$ idempotent. Res, velja namreč
$$
e^2 = u^2 f^2 + g^2 + 2ufg = (u+z)f^2 + g^2 + 2ufg = 
$$
$$
u(f^2 +2fg) + (zf^2 +g^2) = uf +g = e.
$$
Iz konstrukcije $f$ in $g$ je jasno, da velja še $\overline{e} = \overline{u}$.
\endproof

Zgornjo lemo lahko posplošimo.

\begin{lema}
\label{SBInIdem}
Naj bo $R$ SBI-kolobar z enoto, $\overline{R} = R/J(R)$ in $\overline{x} = x + J(R)$. Če je $\{\overline{u}_i|i=1,\dots,n\}$ končna množica ortogonalnih idempotentov v $\overline{R}$, potem obstaja ortogonalna množica idempotentov $\{e_i|i=1,\dots,n\} \subseteq R$, da je $\overline{e}_i = \overline{u}_i, i =1\dots,n$. Poleg tega iz $\sum_{i=1}^n \overline{u}_i = \overline{1}$ sledi še $\sum_{i=1}^n e_i =1$. 
\end{lema}

\proof
Dokazujemo z indukcijo. Primer $n=1$ smo obdelali v lemi \ref{SBIEnIdem}. Predpostavimo sedaj, da že imamo idempotente $e_1,\dots,e_m$ za katere velja $e_i e_j = 0$ za $ i \neq j$ in $\overline{e}_i = \overline{u}_i$ za $i=1,\dots,m$. Definirajmo $e=\sum_{i=1}^m e_i$ in $u = u_{m+1} - eu_{m+1} - u_{m+1}e + eu_{m+1}e$. Potem je $\overline{u} = \overline{u}_{m+1}$ in $eu = 0 = ue$ (to se preveri z enostavnim računom). Enako kot v dokazu leme  \ref{SBIEnIdem} najdemo idempotent $e_{m+1} = u(1-2z) + z_1$, kjer je $z_1^2 - z_1 = -z(1+4z)^{-1}$ in $z = u^2 - u$. Ker je $z=u^2 - u\in (1-e) R(1-e) = (1-e)R\cap R(1-e)$ (to velja, ker je $eu=ue=0$ in je zato $u\in (1-e)R(1-e)$), je po tretji točki leme \ref{SBIlastnosti} tudi $z_1 \in (1-e) R\cap R(1-e) = (1-e)R(1-e)$. Potem pa velja, da je $e_{m+1} = u(1-2z_1) + z_1 = u - 2 uz_1 + z_1\in (1-e)R(1-e)$, ker je $(1-e)R(1-e)$ podkolobar, ki vsebuje $u$ in $z_1$. Torej lahko zapišemo $e_{m+1} = (1-e)\tilde{e}_{m+1}(1-e)$. Ker po predpostavki velja $e_i e =  e_i = e e_i$, takoj dobimo še zvezi $e_i e_{m+1} = 0 =e_{m+1} e_i$. Dokažimo le prvo, drugo namreč dobimo podobno. Velja
$$
e_i e_{m+1} = e_i (1-e) \tilde{e}_{m+1} (1-e) = (e_i - e_i) \tilde{e}_{m+1}(1-e) = 0.
$$
Sledi, da je $\{e_1, \dots, e_{m+1}\}$ množica ortogonalnih idempotentov. Iz konstrukcije $e_{m+1}$ pa še sledi, da je $\overline{e}_{m+1} =  \overline{u}_{m+1}$, za ostale pa zo že velja po indukcijski predpostavki. S tem je prvi del trditve dokazan. 

Recimo torej še, da je $\sum_{i=1}^n \overline{u}_i = \overline{1}$. Definirajmo $e= \sum_{i=1}^n e_i$. Velja $\overline{e} = \overline{1}$. Po definiciji kvocientnega kolobarja to pomeni, da je $e = 1+x$, $x\in J(R)$. Ker je $1+x=e=e^2 = 1+ 2x + x^2$, mora veljati $x^2 = -x$. To je ekvivalentno temu, da je 
$x(1+x) = 0$ in ker je $x\in J(R)$, je $1+x$ obrnljiv element, torej mora biti $x=0$. To pa pomeni, da je $e=1$ in s tem je lema dokazana.
\endproof

\begin{lema}
Naj bo $R$ SBI-kolobar z enoto. Naj vsak neničelni desni ideal kolobarja $\overline{R} = R/J(R)$ vsebuje neničelni idempotent. Potem vsak desni ideal v $R$, ki ni vsebovan v $J(R)$, vsebuje neničelni idempotent.
\end{lema}

\proof
Naj bo $I$ desni ideal kolobarja $R$, ki ni vsebovan v $J(R)$. Potem je $(I+J(R))/J(R) \neq \overline{0}$ in posledično je za neki $u\in I$ po predpostavki element $\overline{u}$ idempotent v $\overline{I}$. Zapišemo lahko $\overline{u} = u + r, u\in I, r \in J(R)$. Ker je $\overline{u}^2 = \overline{u}$, dobimo, da je $u+r = u^2 + \tilde{r}, \tilde{r},r\in J(R)$ oziroma $z= u^2 - u\in J(R)$. Po drugi strani pa je $z\in I$, saj je $u\in I$. Iz prvega pogoja sledi, da je $1+4z$ obrnljiv element, iz drugega pogoja pa sledi, da je $-z(1+4z)^{-1}\in I $ (ker je desni ideal). Opazujmo enačbo $x^2 - x = -z(1+4z)^{-1} $. Ker je $R$ SBI-kolobar ima rešitev $z_1 \in J(R)$. Ker pa je $-z(1+4z)^{-1}\in I$, je po tretji točki leme \ref{SBIlastnosti} tudi $z_1\in I$. Uporabimo sedaj formulo za $e$ iz dokaza leme \ref{SBIEnIdem}. Definiramo $e=u(1-2z_1) + z_1 = u - 2uz_1 + z_1\in I$ (je vsota treh elementov iz ideala  $I$). Ker pa je še $\overline{e} = \overline{u}$, je $e\neq 0$. Na ta način smo torej v $I$ našli neničelen idempotent.
\endproof

Zapišimo sedaj glavni izrek tega razdelka.

\begin{izrek}
\label{SBIizrek}
Naj bo $R$ SBI-kolobar z enoto. Denimo, da je $\overline{R}  = R/J(R) \cong \M_n(\overline{B})$. Potem je $R \cong \M_n(B)$, kjer je $D$ tak, da je  $D/J(D) \cong \overline{B}$.
\end{izrek}

\proof
Ker ima $R$ enoto, jo ima tudi $R/J(R)$ in posledično je $\M_n(\overline{B})$ enotski kolobar. Od tod pa sledi, da mora imeti tudi $\overline{B}$ enoto. Posledično $\M_n(\overline{B})$ vsebuje množico matričnih enot $(u_{i,j})_{i,j=1}^n$. Enostavno se vidi še, da je $\overline{B}\cong \overline{u}_{11}\overline{R} \overline{u}_{11} $. Po lemi \ref{SBInIdem} lahko najdemo ortogonalne idempotente $e_{ii} \in R$, da je $\overline{e}_{ii} = \overline{u}_{ii}$ in $\sum_{i=1}^n e_{ii} = 1$. Po lemi \ref{izomorfniPodmoduliKvocient} vemo, da sta dva podmodula $Re_{ii}$ in $Re_{jj}$ izomorfna natanko tedaj, ko sta izomorfna $\overline{R} \overline{e}_{ii}$ in $\overline{R}\overline{e}_{jj}$. Ker sta v kvocientu poljubna leva modula $\overline{R} \overline{e}_{ii}$ in $\overline{R}\overline{e}_{jj}$ izomorfna, morata biti torej tudi poljubna modula $Re_{ii}$ in $Re_{jj}$ izomorfna. Posebej to pomeni, da je $Re_{11}$ izomorfen poljubnemu modulu $Re_{ii}$. To pa je po lemi \ref{izomorfniPodmoduliElementi} ekvivalentno s tem, da obstajajo elementi $e_{i1}, e_{1i}\in R, i=1,\dots,n$, da velja $\overline{e}_{1i} = \overline{u}_{1i}, \overline{e}_{i1} = \overline{u}_{i1}, e_{ii}e_{i1}e_{11} = e_{i1}, e_{11} e_{1i}e_{ii} = e_{1i}, e_{1i} e_{i1} = e_{11}, e_{i1} e_{1i} = e_{ii}, i = 1,\dots,n$. Sedaj lahko definiramo še $e_{ij} = e_{i1}e_{1j}, i, j = 1,\dots,n$. Tako smo dobili sistem matričnih enot $\{ e_{ij}|i,j=1,\dots,n\} \subseteq R$. Sledi, da je $R\cong M_n(D)$ za neki $D$ in $D\cong e_{11} R e_{11}$. Velja še $J(D) = J(e_{11} R e_{11}) = e_{11} R e_{11} \cap J(R)$ (REFERENCA ALI DOKAZ). Od tod dobimo (s pomočjo drugega izreka o izomorfizmih)
$$
e_{11}Re_{11} / (e_{11} R e_{11} \cap J(R)) \cong (e_{11} R e_{11} + J(R))/J(R) \cong \overline{e}_{11} \overline{R} \overline{e}_{11} = \overline{u}_{11} \overline{R} \overline{u}_{11} = \overline{B}.
$$
Če združimo začetek in konec, dobimo še $D/J(D) \cong \overline{B}$.
\endproof

% ELEMENTARY DIVISOR RINGS
\section{Elementary divisor rings}

% PREREZNA VOZLIŠČA
\section{Prerezna vozlišča}

% KVOCIENT STEVILA MAKSIMALNIH VOZLIŠČ IN STEVILA VOZLISC
\begin{primer}
Definirajmo $V_{\max} (\Gamma(R)) = \{v\in v(\Gamma(R)); v \textrm{ maksimalne stopnje}\}$. Poglejmo si, kakšne vrednosti lahko zavzame izraz 
$$
\frac{|V_{\max}(\Gamma(R))|}{|V(\Gamma(R)|}.
$$
Naj bo najprej $R$ polkolobar oblike $R \cong R_1 \times R_2$, kjer sta $R_1$ in $R_2$ poljubna cela polkolobarja moči $|R_1| = n$ in $|R_2| = m$, $m \le n$. Taka polkolobarja $R_1$ in $R_2$ seveda obstajata, vzamemo lahko kar linearno urejeni množici moči $n$ in $m$. Jasno je, da je $\Gamma(R) \cong K_{n-1,m-1}$. Od tod sledi, da je $\frac{|V_{\max}(\Gamma(R))|}{|V(\Gamma(R)|} = \frac{m-1}{n+m-2}$. 

Poglejmo si sedaj množico števil $\{\frac{a}{b}; \textrm{ obstaja polkolobar } R \textrm{, da je } |V_{\max}(\Gamma(R))| = a \textrm{ in } |V(\Gamma(R))| = b \}$. Po zgornjem premisleku je ta množica števil gosta podmnožica v $[0, \frac{1}{2}]\cap\Q$ in posledično seveda tudi v $[0,\frac{1}{2}]$.

Omejimo se sedaj na komutativne kolobarje z enoto in opazujmo isti kvocient kot zgoraj. Naj bo $R\cong \GF(p^k) \times \GF(q^l)$. Jasno je, da je $\Gamma(R) \cong K_{p^k - 1, q^l -1}$. Predpostavimo sedaj, da je $p^k \le q^l$. Potem je $\frac{|V_{\max}(\Gamma(R))|}{|V(\Gamma(R)|} = \frac{p^k - 1}{p^k + q^l -2}$. Od tu spet sledi, da je opazovani kvocient lahko enak poljubnemu številu iz množice
$$
\Big\{\frac{p^k - 1}{p^k + q^l -2}; p,q \textrm{ praštevili }, k,l \in \N, p^k \le q^l\Big\}.
$$
\end{primer}

% URAVNOTEŽENI GRAFI MATRIČNIH KOLOBARJEV
\section{Uravnotežei grafi deliteljev niča matričnih kolobarjev}

Zgoraj smo že definirali usmerjeni graf deliteljev niča $\Gamma_d(R)$. Definirajmo sedaj še nekaj pojmov, povezanih z vozlišči grafa. Naj bo $a\in V(\Gamma_d(R))$ poljubno vozlišče. Število povezav oblike $x\rightarrow a$ imenujemo \emph{notranja stopnja} vozlišča $a$, število povezav oblike $a\rightarrow x$ pa \emph{zunanja stopnja} vozlišča $a$. Če graf ni usmerjen, je jasno, da oba pravkar definirana pojma sovpadata s stopnjo vozlišča. Pravimo še, da je graf \emph{uravnotežen}, če za vsako vozlišče grafa njegova notranja in zunanja stopnja sovpadata.

Če je kolobar $R$ končen, z lahkoto določimo notranjo in zunanjo stopnjo poljubnega vozlišča. Naj bo torej $a$ vozlišče grafa $\Gamma_d(R)$. Potem je notranja stopnja $a$ enaka $|l_R(a)|-1$, če $a^2 \neq 0$ in $|l_R(a)|-2$, če $a^2 = 0$. Podobno je zunanja stopnja $a$ enaka $|r_R(a)|-1$, če $a^2 \neq 0$ in $|r_R(a)| - 2$, če $a^2 = 0$.

\begin{izrek}
\label{inDegreeOutDegree}
Naj bo kolobar $R$ komutativen končen glavni kolobar z enoto. Naj bo $n \ge 2$. Naj bo $A\in \M_n(R)$ neničelni delitelj niča in naj bodo $d_1,d_2, \dots,d_n$ osnovni delitelji matrike $A$. Potem sta tako notranja kot zunanja stopnja vozlišča $A$ v $\Gamma_d(\M_n(R))$ enaki
$$
\prod_{i=1}^n |\ann_R(d_i)|^n - \epsilon,
$$ 
stopnja vozlišča $A$ v $\Gamma(\M_n(R))$ pa je enaka
$$
2\prod_{i=1}^n |\ann_R(d_i)|^n - \prod_{i,j=1}^n |\ann_R(d_i) \cap \ann_R(d_j)| - \epsilon,
$$
kjer je $\epsilon =1$, razen v primeru, ko je $A^2 = 0$. Tedaj je $\epsilon = 2$. Zgornja ugotovitev o notranji in zunanji stopnji implicira še, da je graf uravnotežen.
\end{izrek}

\proof
Po izreku  \ref{}??????????????? vemo, da je vsak komutativen glavni kolobar z enoto osnovni kolobar z deljenjem. To pa pomeni, da je matrika $A$ ekvivalentna matriki $D_A= \text{diag}(d_1,\dots,d_n)$. Iz leme \ref{anihilatorProduktZObrnljivim} sledi, da je $|l_{\M_n(R)}(A)| = |l_{\M_N(R)}(D_A)|$ in $|r_{\M_N(R)}(A)| = |r_{\M_N(R)}(D_A)|$. Naj bo zdaj $X=(x_{ij})_{i,j=1}^n\in \M_N(R)$ poljubna matrika. Potem velja, da je $XD_A = 0$ natanko tedaj, ko je $x_{ij}d_j = 0$ za $i,j = 1, \dots, n$. Podobno je $D_AX = 0$ natanko tedaj, ko je $d_i x_{ij} =0 $ za $i,j=1,\dots,n$. Sledi, da je 
$$
|l_{\M_n(R)}(D_A)| = \prod_{i=1}^n |\ann_R(d_i)|^n = |r_{\M_n(R)}(D_A)|
$$
in posledično je po zgoraj ugotovljenem
$$
|l_{\M_n(R)}(A)|= |r_{\M_n(R)}(A)| = \prod_{i=1}^n |\ann_R(d_i)|^n .
$$
Če se spomnimo ugotovitve z začetka razdelka, lahko zaključimo, da sta notranja in zunanja stopnja res obe enaki $\prod_{i=1}^n  |\ann_R(d_i)|^n - \epsilon$, kjer je $\epsilon = 1$ (iz množice deliteljev niča odstranimo ničelno matriko), razen v primeru, ko je $A^2 = 0$ in je $\epsilon = 2$ (matrika ni povezana sama s sabo). 

Iz zgornjih zvez sledi še, da je matrika $X\in l_{\M_n(R)}(D_A)\cap r_{\M_n(R)}(D_A)$ natanko tedaj, ko je $x_{ij} \in  \ann_R(d_i)\cap \ann_R(d_j)$. Posledično je 
$$
|l_{\M_n(R)}(A) \cap r_{\M_n(R)}(A)| = \prod_{i,j=1}^n | \ann_R(d_i) \cap \ann_R(d_j)|.
$$
Ugotovitve sedaj združimo v 
$$
|l_{\M_n(R)}(A) \cup r_{\M_n(R)}(A)| = |l_{\M_n(R)}(A)|  + |r_{\M_n(R)}(A)| - |l_{\M_n(R)}(A) \cap r_{\M_n(R)}(A)|=
$$
$$
2\prod_{i=1}^n |\ann_R(d_i)|^n - \prod_{i,j=1}^n |\ann_R(d_i) \cap \ann_R(d_j)|.
$$
Sklenemo, da je stopnja vozlišča $A$ v grafu $\Gamma(\M_n(R))$ res enaka $2\prod_{i=1}^n |\ann_R(d_i)|^n - \prod_{i,j=1}^n |\ann_R(d_i) \cap \ann_R(d_j)| -\epsilon$, kjer je $\epsilon=1$, razen v primeru, ko je $A^2 = 0$. Takrat je $\epsilon=2$.
\endproof

\begin{primer}
Denimo, da je kolobar $R$ polje $R=\GF(p^{\alpha})$. Vzemimo poljubno matriko $A\in \M_n(\GF(p^{\alpha}))$ kot zgoraj v izreku. Potem lahko zgornje formule nekoliko poenostavimo. Res, poljubni osnovni delitelj je namreč bodisi obrnljiv bodisi je 0. Velja še, da je število neničelnih osnovnih deliteljev matrike $A$ enako njenemu rangu. Velja $\ann_R(d_i) = 0$, če je $d_i$ obrnljiv element in $\ann_R(d_i) = R=\GF(p^{\alpha})$, če je $d_i=0$. Označimo s $k$ rang matrike $A$ (ker $A$ ni obrnljiva je $k<n$). Potem velja 
$$
|l_{\M_n(R)}(A)| = |r_{\M_n(R)}(A)|=\prod_{i=1}^n|\ann_R(d_i)|^n = \prod_{i=1}^k |\{0\}|^n\cdot \prod_{i=k+1}^n |R|^{n} =|\GF(p^{\alpha})|^{n(n-k)}
$$
in
$$
|l_{\M_n(R)} (A) \cup r_{\M_n(R)}(A)| = 2|\GF(p^{\alpha})|^{n(n-k)} - |\GF(p^{\alpha})|^{(n-k)^2}.
$$
Sledi, da sta notranja in zunanja stopnja matrike $A\in \M_n(\GF(p^{\alpha}))$ v usmerjenem grafu $\Gamma_d(\M_n(\GF(p^{\alpha})))$ enaki 
$$
|\GF(p^{\alpha})|^{n(n-k)} - \epsilon,
$$
stopnja $A$ v $\Gamma (\M_n(\GF(p^{\alpha})))$ pa je enaka
$$
 2|\GF(p^{\alpha})|^{n(n-k)} - |\GF(p^{\alpha})|^{(n-k)^2} - \epsilon,
$$
kjer je $\epsilon=1$, če $A^2\neq 0$ in $\epsilon = 2$, če je $A^2 = 0$. 
\end{primer}

Zgornji izrek lahko sedaj uporabimo pri dokazu naslednjega izreka. Pred tem pa moramo razviti še malo teorije. Če za zaporedje različnih povezav $e_1, \dots, e_s$ v usmerjenem grafu velja, da je končno vozlišče povezave $e_i$ enako začetnemu vozlišču povezave $e_{i+1}$ za vsak $1 \le i \le s-1$ in če je še končno vozlišče $e_s$ enako začetnemu vozlišču povezave $e_1$, potem pravimo da je zaporedje vozlišč $e_1,\dots,e_s$ \emph{cikel} v usmerjenem grafu. Enako kot za neusmerjene grafe definiramo, da je cikel \emph{Eulerjev cikel}, če vsebuje vsako povezavo natančno enkrat (in obišče vsako vozlišče, kar je ekvivalentno zahtevi, da je graf povezan). Graf oziroma usmerjen graf je Eulerjev, če vsebuje Eulerjev cikel.

Dokažimo naslednjo lemo, ki povezuje Eulerjeve in uravnotežene grafe.
\begin{lema}
\label{usmerjenGrafEuler}
Usmerjen graf je Eulerjev natanko tedaj, ko je povezan in uravnotežen.
\end{lema}

\proof
Naj bo graf Eulerjev. Potem mora biti očitno povezan. Ker Eulerjev cikel vsakič ko obišče neko vozlišče vanj vstopi in izstopi po drugi povezavi, mora biti število vstopnih povezav enako številu izstopnih povezav. Povedano drugače, notranja in zunanja stopnja vsakega vozlišča se morata ujemati, torej mora biti graf uravnotežen.

Naj bo zdaj usmerjen graf $G$ povezan in uravnotežen. Z indukcijo na število povezav grafa pokažimo, da mora biti graf Eulerjev. Če je moč množice povezav $|E|=2$, potem imamo graf na dveh točkah $a,b$ s povezavama $a\rightarrow b$ in $b\rightarrow a$. Graf je Eulerjev. Oglejmo si sedaj povezan uravnotežen graf $G$ z $|E|> 2$ povezavami. Izberimo poljubno vozlišče $u$ in začnimo graditi pot, ki gre po vsaki povezavi največ enkrat. To storimo tako, da si v vsakem vozlišču preprosto izberemo povezavo po kateri še nismo potovali in gremo po njej do naslednjega vozlišča. Ko pridemo do vozlišča iz katerega ne moremo več nadaljevati poti, ker smo vse povezave že obhodili, mora biti to zaradi uravnoteženosti kar začetno vozlišče $u$. Denimo, da pri tem nismo obhodili vseh povezav grafa $G$. Oglejmo si graf $G'$, ki ga dobimo tako, da grafu $G$ odstranimo vse povezave na prej skonstruiranem ciklu in vsa izolirana vozlišča. Graf $G'$ ni nujno povezan, še vedno pa je uravnotežen, saj smo iz vsakega vozlišča odstranilo enako vhodnih in izhodnih povezav. Po indukcijski predpostavki vsaka povezana komponenta grafa $G'$ vsebuje Eulerjev cikel. Ker pa je graf $G$ povezan, mora zgoraj konstruirani cikel sekati vsako povezano komponento grafa $G'$ vsaj v eni točki. V vsaki povezani komponenti grafa $G'$ si torej izberemo eno vozlišče v katerem konstruirani cikel seka to komponento in v njem združimo konstrirani cikel in Eulerjev cikel te komponente. Dobimo Eulerjev cikel za $G$.
\endproof

\begin{izrek}
Naj bo $R$ končen komutativen glavni kolobar z enoto in $n\ge 2$. Tedaj je usmerjeni graf deliteljev niča $\Gamma_d(\M_n(R))$ Eulerjev.
\end{izrek}

\proof
Po lemi \ref{enostranskiDelitelji0Matricni} vemo, da sta v matričnih kolobarjih množici levih  in desnih deliteljev niča enaki. To implicira, da je usmerjeni graf povezan. Denimo nasprotno, da ni povezan. To pomeni, da obstajata dve vozlišči $x$ in $y$, da med njima ne morema najti poti v obe smeri. Predpostavimo lahko, da ne moremo najti poti od $x$ do $y$. To implicira, da v grafu obstaja vozlišče, ki je desni delitelj niča, ni pa levi delitelj niča, saj se vsaka pot, ki se začne v $x$ konča preden pride v $y$. To pa je v nasprotju s predpostavko o tem, da so levi in desni delitelji niča enaki. Sklenemo torej, da je $\Gamma_D(\M_n(R))$ povezan graf. Po izreku \ref{inDegreeOutDegree} je $\Gamma_d(\M_n(R))$ uravnotežen in zato po lemi \ref{usmerjenGrafEuler} Eulerjev.
\endproof

Poiščimo še primer komutativnega enotskega kolobarja $R$, da $\Gamma_d(\M_n(R))$ ne bo uravnotežen.

\begin{izrek}
Naj bo $R$ komutativen enotski kolobar in $n\ge2$. Če usmerjeni graf deliteljev niča $\Gamma_d(\M_n(R))$ ni uravnotežen, potem je $|R| \ge 8$. Poleg tega je ta ocena optimalna, saj obstaja komutativen enotski kolobar $R$ moči $|R|=8$, da $\Gamma_d(\M_n(R))$ ni uravnotežen. 
\end{izrek} 

\proof
Označimo z $\gamma(n)$ število neizomorfnih kolobarjev moči $n$. Pri tem upoštevamo tudi nekomutativne kolobarje in kolobarje brez enote. Vemo, da lahko vsak kolobar moči $n=p_1^{\alpha_1}\cdots p_r^{\alpha_r}$, kjer so $p_i$ paroma različna praštevila, razcepimo kot $R=R_1\times \dots \times R_r$, tako da je moč $|R_i| = p_i^{\alpha_i}$ (tak razcep dobimo iz razcepa Abelovih grup). Sledi, da je $\gamma$ multiplikativna, kar pomeni, da je $\gamma(n) = \gamma(p_1^{\alpha_1}\cdots p_r^{\alpha_r}) = \gamma(p_1^{\alpha_1})\cdots \gamma_(p_r^{\alpha_r})$. 

Sedaj opazimo, da je ničelni kolobar edini kolobar  z enim elementom. Jasno je tudi, da nima enote. Naj bo zdaj $R$ kolobar moči $p$, kjer je $p$ praštevilo. Po lemi \ref{pkolobar} je kolobar $R$ bodisi polje moči $p$ bodisi ničelni kolobar moči $p$. Sledi, da je $\gamma(p)= 2$. Pripomnimo še, da ničelni kolobar nima enote, graf $\Gamma_d(\M_n(\GF(p)))$ pa je uravnotežen po izreku \ref{inDegreeOutDegree}. 

Naj bosta zdaj $p\neq q$ različni praštevili. Zaradi multiplikativnosti $\gamma$ velja $\gamma(pq) = \gamma(p)\gamma(q) = 4$. Naj bo $R$ poljuben kolobar moči $pq$. Potem ima $R$ ideal $I_1$ moči $p$ in ideal $I_2$ moči $q$ in ker sta $p$ in $q$ različna, lahko zapišemo $R\cong I_1 \oplus I_2$. Če naj ima $R$ enoto, jo morata imeti tako $I_1$ kot $I_2$. Potem je $I_1\cong \GF(p)$ in $I_2\cong \GF(q)$. Ker je $\GF(p) \oplus \GF(q)$ glavni kolobar, poleg tega pa je tudi komutativen in ima enoto, je po \ref{inDegreeOutDegree} graf $\Gamma_d(\M_n(R))$ uravnotežen. 

Naj bo zdaj $|R|=p^2$, kjer je $p$ praštevilo. Znano je, da obstaja natanko 11 neizomorfnih kolobarjev moči $p^2$ (glej \cite{Fine}). Če je $R$ komutativen kolobar moči $p^2$ z enoto, potem je glavni. Res, naj bo $I$ poljuben pravi ideal. Potem mora imeti $I$ natanko $p$ elementov. Sledi, da je kot aditivna grupa generiran z neničelnim elementom, torej je $I$ glavni ideal. Po izreku \ref{inDegreeOutDegree} je graf $\Gamma_d(\M_n(R))$ spet uravnotežen.

Če označimo s $k=|R|$, potem je za $1<k<8$ število $k$ bodisi praštevilo bodisi produkt dveh različnih praštevil bodisi kvadrat praštevila. V vseh teh primerih pa smo zgoraj videli, da graf $\Gamma_d(\M_n(R))$ je uravnotežen. Če za nek kolobar $R$ graf $\Gamma_d(\M_n(R))$ ni uravnotežen, mora biti torej $|R|\ge 8$. Dokaz bo zaključen, če uspemo skonstruirati kolobar $R$  moči 8, da graf $\Gamma_d(\M_n(R))$ ne bo uravnotežen.

Označimo z $R$ $\Z_2$ algebro z bazo $\{1,a,b\}$ in z množenjem predpisanim takole
$$
\begin{array}{c | ccc}
\cdot & 1 & a & b \\
\hline
1 & 1 & a & b \\
a & a & 0 & 0 \\
b & b & 0 & 0 \\
\end{array}.
$$
Elementi $R$ so $R=\{0,1,a,b,1+a,1+b,a+b,1+a+b\}$ in $|R|=8$. Opazimo še, da $R$ ni glavni, saj ideal  $(a,b)$ generiran z elementoma $a,b$ ni glavni. Pokažimo sedaj, da $\Gamma_d(\M_2(R))$ ni uravnotežen graf. V ta namen bomo poračunali, da se vhodna  in izhodna stopnja vozlišča 
$A=
\begin{bmatrix}
a & 0 \\
b & 0 \\
\end{bmatrix}
$ ne ujemata.
Naj bo $B=
\begin{bmatrix}
x & y \\
z & w \\
\end{bmatrix}
$
poljubna druga matrika iz $\M_2(R)$. Določimo najprej vhodno stopnjo vozlišča $A$. Zanima nas torej, kdaj bo
$$
0=BA = \begin{bmatrix}
x & y \\
z & w \\
\end{bmatrix}
\begin{bmatrix}
a & 0 \\
b & 0 \\
\end{bmatrix}
=
\begin{bmatrix}
xa + yb & 0 \\
za + wb & 0 \\
\end{bmatrix}.
$$
Veljati mora torej $xa + yb = 0 $ in $za+wb = 0$. Določimo pogoje na $x,y$, za $z,w$ bodo morali veljati isti pogoji. Če je $x\in \{0,a,b,a+b\}$, potem je $xa + yb = yb$ in mora biti še $y\in \{0,a,b,a+b\}$. Če pa je $x\in \{1,1+a,1+b,1+a+b\}$, potem pa ne obstaja tak $y$, da bi bilo $xa+yb=0$. Za matriko $B$ imamo torej $(4\cdot 4)^2 -2$ možnosti (kvadriranje se pojavi, ker imamo prav toliko pogojev še na $z,w$, 2 pa odštejemo, ker iz grafa odstranimo ničelno matriko in ker je $A^2 = 0$). Vhodna stopnja je torej $16^2 - 2= 256-2 = 254$. 

Določimo še izhodno stopnjo. Zanima koliko je matrik $B$ kot zgoraj, da je 
$$
0 = AB = \begin{bmatrix}
a & 0 \\
b & 0 \\
\end{bmatrix}
\begin{bmatrix}
x & y \\
z & w \\
\end{bmatrix}
=
\begin{bmatrix}
ax & ay \\
bx & by \\
\end{bmatrix}.
$$
Takoj opazimo, da sta $z,w$ vedno lahko poljubna. Element $x$ pa mora biti tak, da je $ax = bx = 0$. To pomeni, da mora biti $x\in \{0,a,b,a+b\}$. Enako vidimo, da imamo za $y$ iste štiri možnosti. Vseh ustreznih matrik $B$ je torej $4\cdot 4 \cdot 8 \cdot 8 -2$, kjer 2 odštejemo iz istega razloga kot zgoraj. Tako dobimo, da je izhodna stopnja enaka $4^2 \cdot 8^2 - 2 = 2^{10}-2 = 1024-2 = 1022$. Sledi, da se vhodna in izhodna stopnja res razlikujeta in graf $\Gamma_d(\M_2(R))$ res ni uravnotežen.
\endproof

% KLASIFIKACIJA KONCNIH KOLOBARJEV Z EULERJEVIM GRAFOM DELITELJEV NICA
\section{Klasifikacija končnih kolobarjev z Eulerjevim grafom deliteljev niča}

% KONCNI NILPOTENTNI KOLOBARJI Z EULERJEVIM GRAFOM DELITELJEV NICA
\subsection{Končni nilpotentni kolobarji z Eulerjevim grafom deliteljev niča}

\begin{trditev}
\label{EulerNilpotenten}
Naj bo $R$ končen neničelen nilpotenten kolobar. Potem je graf $\Gamma(R)$ Eulerjev natanko tedaj, ko je $|R|$ sodo število in je kvadrat vsakega elementa iz $R$ enak 0, to je $x^2=0$ za vsak $x\in R$.
\end{trditev}

\proof
Pokažimo najprej lažjo smer. Naj bo $R$ kolobar moči $|R| = 2^{\alpha_1} p_2^{\alpha_2} \cdots  p_m^{\alpha_m}$, kjer so $p_2, \dots, p_m$ različna liha praštevila, $m\ge 1$ in $\alpha_i \ge 1$. Naj poleg tega za vsak $x\in R$ velja še $x^2 = 0$. Iz prve predpostavke sledi, da je $R = R_1 \oplus R_2 \oplus \cdots \oplus R_m$, kjer je $|R_1| = 2^{\alpha_1}$ in $|R_i| = p_i ^{\alpha_i}, i = 2,3,\dots,m$. Naj bo zdaj $a=(a_1,a_2,\dots,a_m)\in R$ poljuben neničelen element. Iz druge predpostavke po lemi \ref{antikomutativnost} sledi, da je $R$ antikomutativen. To implicira, da je $r_{R_i}(a_i) =l_{R_i}(a_i) = \ann_{R_i}(a_i), i=1,2,\dots,m$. S pomočjo pravkar ugotovljenega lahko zapišemo zvezo
$$
\deg(a) = |\ann_{R_1}(a_1)|\cdot|\ann_{R_2}(a_2)|\cdots|\ann_{R_m}(a_m)| - |\{0,a\}|.
$$
Ker je $\ann_{R_1}(a_1)$ netrivialen, saj poleg ničle zagotovo vsebuje še $a_1$ in ker je podgrupa $R_1$, je $|\ann_{R_1}(a_1)| = 2^{t}$, kjer je $1 \le t \le \alpha_1$. Od tu pa takoj sledi, da je $\deg(a)$ sodo število in posledično je $\Gamma(R)$ Eulerjev graf.

Pokažimo še obrat. Naj bo torej $R$ končen nilpotenten kolobar z lastnostjo, da je graf $\Gamma(R)$ Eulerjev. Naj bo $n\in \N$ indeks nilpotentnosti $R$, to je $R^n = 0$ in $R^{n-1}\neq 0$. 

Naj bo najprej $|R| = p^m$, kjer je $p$ praštevilo in $m\in \N$. Naj bo $0\neq a \in R^{n-1}$. Ker je $R^n = 0$, je $aR = Ra = 0$. Posledično velja 
$$
\deg(a)  = |R| -|\{0,a\}| = |R| - 2.
$$
Ker je $\Gamma(R)$ Eulerjev graf, je $\deg(a)$ sodo število in zato je $|R| = 2^m$. Naj bo zdaj še $x\in R$ tak element, da zanj velja $x^2 \neq 0$. Ker je $R$ nilpotenten, množice $\ann_R(x), r_R(x),l_R(x) $ poleg ničle zagotovo vsebujejo še neko potenco elementa $x$. Sklenemo, da so $| \ann_R(x)|, |r_R(x)|, |l_R(x)| $ vse potence števila 2 in $|\ann_R(x) | \ge 2$. Sledi, da je 
$$
\deg(x) = |l_R(x) | + |r_R(x)| - |\ann_R(x)| - |\{0\}|.
$$
Ker pa so prvi trije členi na desni soda števila, je $\deg(x)$ liho število, kar je v nasprotju s tem, da je $\Gamma(R)$ Eulerjev graf. Sklenemo, da za vsak $x\in R $ velja $x^2=0$.

Naj bo zdaj $|R| = p_1^{\alpha_1} p_2^{\alpha_2} \cdots p_m^{\alpha_m}$, kjer je $m \ge 2$ in so $p_1,\dots,p_m$ različna praštevila. Potem $R$ lahko zapišemo kot $R= R_1 \oplus R_2 \oplus \cdots \oplus R_m$, kjer je $|R_i|  = p_i^{\alpha_i}$. Za vsak $i=1,\dots, m$ naj bo $n_i$ indeks nilpotentnosti $R_i$, to je $R_i^{n_i} =0 $ in $R_i^{n_i-1} \neq 0$ (taka števila $n_i$ obstajajo, ker je $R$ nilpotenten). Podobno kot prej vzemimo $a\in R_1^{n_1 - 1}$. Potem velja $a^2 = 0$ in posledično je 
$$
\deg((a,0,\dots,0)) = |R_1|\cdots|R_m| - 2 = |R| - 2.
$$ 
Ker je graf $\Gamma(R)$ Eulerjev, zaključimo, da je stopnja vozlišča $(a,0,\dots,0)$ soda in zato je $|R | $ sodo število. To pa pomeni, da je eno izmed praštevil $p_i$ enako 2. Predpostavimo lahko, da je $p_1 = 2$ in $|R_1| = 2^{\alpha_1}$, kjer je $\alpha_1 \ge 1$. Naj bo zdaj $0\neq a\in R_1$. Denimo, da je $a^2 \neq 0$. Vzemimo še $0\neq (r_1,r_2,\dots,r_m)\in R\setminus (a,0,\dots,0)$ (tak element obstaja, ker je $m\ge 2$). Potem je vozlišče $(a,0,\dots,0)$ sosednje z vozliščem $(r_1,r_2,\dots,r_m)$ natanko tedaj, ko je $r_1\in l_{R_1}(a)\cup r_{R_1}(a)$. Spet si pogledamo stopnjo vozilšča 
$$
\deg((a,0,\dots,0)) = (|l_{R_1}(a) | + |r_{R_1}(a)| - |\ann_{R_1}(a)|)\cdot |R_2|\cdots |R_m| - 1.
$$
Ker je člen v oklepaju sod, je ta stopnja liho število, kar je v nasprotju z našo predpostavko, da je graf Eulerjev. Sledi,da je $a^2 = 0$ za vsak $a\in R_1$.

Naj bo zdaj $b\in R_2$. Denimo, da je $b^2 \neq 0$. Potem je 
$$
\deg((0,b,0,\dots,0)) = |R_1|\cdot|l_{R_1}(b) \cup r_{R_1}(b)| \cdot |R_3|\cdots|R_m| - 1,
$$
kar je liho število (ker je $|R_1|$ sodo število). Protislovje. Sklenemo, da je $b^2 = 0$ za vsak $b\in R_2$. Na enak način kot za $b\in R_2$ lahko vidimo, da za poljuben $b\in R_i, i=2,\dots,m$ velja $b^2=0$. Od tod pa sledi, da za vsak $x\in R$ velja $x^2 = 0$. S tem je trditev dokazana.

\endproof

\begin{primer}
\begin{enumerate}
\item Naj bo $R= \Big\{ 
\begin{bmatrix}
0 & a \\
0 & 0 \\
\end{bmatrix}; a\in \Z_4
\Big\}$. Potem je jasno, da je $|R| = 4$ je sodo število in $R^2=0$, torej kolobar $R$ ustreza predpostavkam trditve. Velja tudi, da je $\Gamma(Z(R))$ Eulerjev graf, saj velja $\Gamma(Z(R)) \cong K_3$.
\item  Naj bo $R= \Big\{ 
\begin{bmatrix}
0 & a \\
0 & 0 \\
\end{bmatrix}; a\in \Z_5
\Big\}$. Kolobar ima pet elementov in zato ne ustreza prvi zahtevi trditve. Velja še $\Gamma(Z(R)) \cong K_4$, torej je stopnja vsakega vozlišča enaka 3 in graf zato ni Eulerjev.
\item Naj bo $R= \Big\{ 
\begin{bmatrix}
0 & a  & b\\
0 & 0 & c\\
0 & 0 & 0\\
\end{bmatrix}; a,b,c\in \Z_2
\Big\}$. Velja $|R|=8$, torej $R$ zadošča prvi predpostavki izreka. Naj $E_{ij}$ označuje matriko, ki ima na mestu $(i,j)$ 1, drugje pa same ničle. Označimo z $m_0 = 0, m_1 = E_{23}, m_2 = E_{13}, m_3 = E_{13}+E_{23}, m_4 = E_{12}, m_5 =  E_{12} + E_{23}, m_6 = E_{12}+E_{13}, m_7 = E_{12}+E_{13}+E_{23}$ elemente kolobarja $R$. Potem je $m_5^2 = m_2\neq 0$, torej $R$ ne ustreza drugi predpostavki izreka. Nekaj računanja nam pokaže, da so edini neničelni produkti različnih elementov naslednji
$
m_4 m_1=m_2, m_4 m_3=m_2, m_4 m_5 = m_2,m_4 m_7 = m_2,m_5 m_1 = m_2, m_5 m_3 = m_2, m_5 m_7 = m_2, m_6 m_1 = m_2, m_6 m_3 = m_2,\\ m_6 m_5 = m_2, m_6 m_7 = m_2, m_7 m_1 = m_2, m_7 m_3 = m_2, m_7 m_5 = m_2
$. Ker smo definirali, da sta vozlišči, ki pripadata elementoma $x$ in $y$ sosednji natanko tedaj, ko je vsaj eden izmed produktov $xy$, $yx$ enak 0, lahko pozoren bralec ugotovi, da vozlišči, ki pripadata elementoma $m_5$ in $m_7$ nista sosednji, po drugi strani pa je $m_5$ soseden z vsemi ostalimi. To pa pomeni, da je $\deg(m_5) = 5$, kar pa ni sodo število. Sklenemo, da $\Gamma(Z(R))$ ni Eulerjev graf.
\end{enumerate}
\end{primer}

V drugem in tretjem primeru zgoraj smo videli, da sta pogoja v izreku res potrebna.

% KONCNI NENILPOTENTNI KOLOBARJI Z ENOTO Z EULERJEVIM GRAFOM DELITELJEV NICA

\subsection{Končni nenilpotentni kolobarji z enoto in z Eulerjevim grafom deliteljev niča}

\begin{trditev}
\label{EulerEnotski}
Naj bo $R$ končen kolobar z enoto, ki ni polje. Potem je graf $\Gamma(R)$ Eulerjev natanko tedaj, ko $R$ zadošča enemu izmed naslednjih dveh pogojev:
\begin{enumerate}
\item $R \cong \oplus_{i=1}^k \GF(p_i^{\alpha_i})$, kjer so $p_i$ liha praštevila in je $k\ge 2$;
\item $R$ je lokalen kolobar moči $|R| = 2^{\alpha}, \alpha \ge 2$ in za vsak $x\in J(R)$ velja $x^2 = 0$.
\end{enumerate}
\end{trditev}

\proof
Naj bo $R$ končen kolobar z enoto z Eulerjevim grafom deliteljev niča. Denimo, da je $|R| = n = p_1^{\alpha_1}\cdots p_s^{\alpha_s}, s\ge 1$, $p_i$ paroma različna praštevila. Zapišemo lahko $R=R_1\oplus \cdots \oplus R_s$, kjer je $|R_i| = p_i^{\alpha_i}, 1 \le i \le s$. Sedaj ločimo več primerov.

Naj bo najprej $s\ge 2$. Potem za $1 \le i \le s$ označimo z $e_i$ enoto kolobarja $R_i$. Potem je $(e_1, \dots, e_s)$ enota $R$. Poglejmo si element $x = (0,\dots, 0,e_i,0,\dots,0)$. Velja
$$
\ann_R(x) = R_1\oplus  \cdots R_{i-1} \oplus \{ 0 \} \oplus R_{i+1} \oplus \cdots \oplus R_{s}.
$$  
Od tod takoj sledi, da je
$$
\deg(x) = |\ann_R(x)| - 1 = p_1^{\alpha_1} \cdots p_{i-1}^{\alpha_{i-1}} p_{i+1}^{\alpha_{i+1}} \cdots p_s^{\alpha_s} - 1.
$$
Ker je graf $\Gamma(Z(R))$ Eulerjev, je stopnja vsakega vozlišča sodo število, zato nobeno izmed praštevil $p_i$ ni enako 2. Sledi, da je $n$ liho število in je karakteristika $R$ liha. Če je torej za neki $x\in R$ res $2x = 0$, potem je $x=0$. To pa pomeni, da je za vsak $x\in R^*$ $x\neq -x$, saj bi sicer prišli v nasprotje s pravkar ugotovljenim. Denimo, da obstaja neničelni element $x\in R$, da je $x^2 = 0$. Torej velja $0,x\in \ann_R(x)$. Denimo, da je vozlišče $x$ povezano še z nekim vozliščem $y$. To pomeni, da je bodisi $xy=0$ bodisi $yx=0$. Oglejmo si le prvo možnost, za drugo namreč lahko naredimo podoben premislek. Če je $xy = 0$, je tudi $0=-xy=x(-y)$, torej je vozlišče $x$ sosednje tud iz $-y$. To pa pomeni, da vsi sosedi $y\neq -x$ vozlišča $x$ nastopajo v parih $(y,-y)$. Takih je torej sodo, poleg tega pa je $x$ soseden še z $-x$, torej je stopnja $x$ liho število. Protislovje. Sklenemo, da kolobar $R$ ne vsebuje neničelnih nilpotentnih elementov. Torej je $J(R)=0$. Za artinske in v posebnem tudi končne kolobarje pa je to ekvivalentno temu, da je kolobar $R$ polenostaven. Torej je po Wedderburn-Artinovem izreku $R\cong \M_{n_1}(D_1)\times \cdots \times \M_{n_k}(D_k)$, kjer so $D_i$ končni obsegi torej polja. Ker pa smo ravnokar dokazali, da $R$ nima neničelnih nilpotentov, je $n_i= 1$ za vsak $1\le i \le k$. Zaključimo torej, da je $R\cong \oplus_{i=1}^k \GF(q_i)$, kjer je $q_i = \tilde{p_i}^{\beta_i}$, $\tilde{p_i}$ pa so liha praštevila. Velja še $k\ge s \ge 2$.

Naj bo zdaj $s=1$. Potem je $|R| = p^n$, kjer je $p$ praštevilo in $n\ge1$ naravno število. Naj bo najprej $p$ liho praštevilo. Če je $n=1$, je po lemi \ref{pkolobar} $R$ polje (ker ima enoto). Protislovje. Naj bo torej $n\ge 2$. Če je $J(R) \neq 0$, potem v $R$ obstaja neničelni element $x\in J(R)$, da je $x^2 = 0$ (ker $J(R)$ nilpotenten). Tako kot v prvem primeru vidimo, da $x\neq -x$ in da je posledično $\deg(x)$ liho število. Protislovje. Sledi, da $R$ nima neničelnih nilpotentov in  zato je enako kot zgoraj $R$ izomorfen direktni vsoti končnih polj $R=\oplus_{i=1}^k \GF(p^{\beta_i})$,kjer sta  $k\ge 2$ (ker $R$ po predpostavki ni polje), $\beta_i \ge 1, \beta_1 + \dots + \beta_k = n$.

Poglejmo si zdaj še zanji primer, ko je $|R| = 2^\alpha$, kjer $\alpha\ge 1$. Če je $\alpha = 1$ je po lemi \ref{pkolobar} $R$ spet polje. Protislovje. Torej je $\alpha \ge 2$. Denimo, da je obstaja neki delitelj niča (enostranski ali dvostranski) $x$, da je $x^2 \neq 0$ in $\ann_R(x) \neq 0$. Ker so $l_R(x), r_R(x), \ann_R(x)$ podgrupe in ker po zgornji predpostavki niso trivialne, sledi, da so njihove moči soda števila. Potem je stopnja 
$$
\deg(x) = |(l_R(x) \cup r_R(x)) \setminus \{0\}| = |l_R(x) | + |r_R(x)| - |\ann_R(x)| - 1
$$
liho število. Protislovje. Sklenemo, da je za poljuben enostranski ali dvostranski delitelj niča $x$ bodisi $x^2 = 0$ bodisi je $\ann_R(x) = 0$. 

Poglejmo si najprej primer, ko je $J(R) = 0$, kar pomeni, da je $R$ polenostaven kolobar. Potem je $R\cong \oplus _{i=1}^k \M_{n_i}(\GF(2^{\beta_i}))$. Pokažimo, da je $n_i = 1$ za $1\le i \le k$. Denimo nasprotno, da je za neki $i$ $n_i\ge 2$. Označimo z $\{E_{l,j}\}_{l,j=1}^n$ množico matričnih enot kolobarja $\M_{n_i}(\GF(2^{\beta_i}))$. Velja $E_{1,1}^2 = E_{1,1}$ in $\ann_R(E_{1,1})\neq 0$, saj zagotovo vsebuje $E_{2,2}$. Protislovje z zgornjo ugotovitvijo. Zapišemo torej lahko $R\cong \oplus _{i=1}^k \GF(2^{\beta_i})$. Denimo, da je $k\ge 2$. Potem izberemo $x\in \GF(2^{\beta_1})^*$ in $y\in \GF(2^{\beta_2})^*$. Oglejmo si elementa $\tilde{x} = (x,0,\dots,0)$ in $\tilde{y} = (0,y,0,\dots,0)$. Velja $\tilde{x}^2 \neq 0$ in $\tilde{y}\in \ann_R(\tilde{x}) \neq 0$. Protislovje. Sledi, da je $k=1$ in $R\cong \GF(2^{\beta_1})$, kar pa je v nasprotju s predpostvko izreka.

Obravnavajmo še primer, ko je $J(R)\neq 0$. Potem je $R/J(R) \cong \oplus_{i=1}^k \M_{n_i}(\GF(2^{\beta_i}))$. Ker je $J(R)$ nilpotenten, obstaja naravno število $N$, da je $J(R)^N \neq 0$ in $J(R)^{N+1} = 0$. Vzemimo $0\neq x\in J(R)$. Potem je $0\neq J(R)^N \subseteq \ann_R(x)$, torej je $\ann_R(x) \neq 0$. Ker je $\ann_R(x) \neq 0$, mora biti po zgoraj ugotovljenem $x^2 = 0$ (videli smo, da je za vsak delitelj niča $x$ bodisi $x^2 = 0$ bodisi je $\ann_R(x) = 0$). Sklenemo, da je $x^2 = 0$ za vsak $x\in J(R)$. Ker je $R$ končen, je artinski in zato je $J(R)$ nil ideal. Sledi, da je $J(R)$ SBI-kolobar. Ker je $R/J(R)\cong \oplus_{i=1}^k \M_{n_i}(\GF(2^{\beta_i})) $ lahko najdemo elemente $\overline{u_i} \in R/J(R), i=1,\dots,k$, da je $u_i$ enota $\M_{n_i}(\GF(2^{\beta_i}))$. Ker je $R$ SBI-kolobar z enoto, lahko po lemi \ref{SBInIdem} najdemo idempotente $e_i, i=1,\dots,k$, da je $\overline{e}_i = \overline{u}_i, i=1,\dots,k$. Ker so $\{u_i\}_{i=1}^k$ ortogonalni idempotenti, po lemi \ref{SBInIdem} sledi še, da so tudi $\{e_i\}_{i=1}^k$ ortogonalni idempotenti.
Denimo, da je $k>2$
Potem je $e_i e_j = e_j e_i0$ za $i\neq j$. Od tod sledi, da je $\ann_R(e_i) \neq 0$ za vsak $i\in \{1, \dots,k\}$. Velja torej $e_1^2 = e_1 \neq 0$ in $\ann_R(e_1)\neq 0$, kar je v nasprotju z našo ugotovitvijo, da je za vsak delitelj niča $x$ bodisi $x^2 = 0$ bodisi je $\ann_R(x) = 0$.

Sledi, da je $k=1$ in zato je $R/J(R) \cong \M_{n_1}(\GF(2^{\beta_1}))$. Denimo, da je $n_1 > 1$. Ker je $R$ SBI-kolobar po izreku \ref{SBIizrek} sledi, da ima $R$ matrične enote. To nas spet pripelje v protislovje, saj za matrično enoto $e_{11}$ velja $e_{11}^2 = e_{11} \neq 0$ in $e_{22}\in \ann_R(e_{11}) \neq 0$. Sledi, da je $n_1 = 1$, torej je $R/J(R) \cong \GF(2^{\beta_i})$. To pa pomeni, da je $R$  lokalen kolobar.

Dokažimo še obrat. Naj bo najprej $R= \oplus_{i=1}^s \GF(p_i^{\alpha_i})$, kjer so $p_i$ liha praštevila. Jasno je, da so delitelji niča $s$-terice, ki vsaj na enem mestu vsebujejo 0. Naj bo torej $x=(x_1,x_2,\dots,x_s)$ poljuben neničelen delitelj  niča. Naj bo $\mathcal{I}(x)=\{i;x_i=0\}$ množica indeksov, kjer ima element $x$ ničelne komponente. Vzemimo sedaj poljuben element $y\in R$. Vozlišči $x$ in $y$ sta povezani natanko tedaj, ko sta množici $\mathcal{I}(x)^C$ in $\mathcal{I}(y)^C$ disjunktni. Od tu takoj sledi, da je $\deg(x) = \prod_{l\in \mathcal{I}(x)} p_l^{\alpha_l}-1$ sodo število in posledično je graf $\Gamma(Z(R))$ res Eulerjev.

Naj bo zdaj še $R$ lokalen kolobar z $2^\alpha, \alpha \ge 2$, elementi in naj bo za vsak $x\in J(R)$ $ x^2 = 0$. Ker je $R$ lokalen,  je $R\setminus J(R)=U(R)$ množica obrnljivih elementov. Po drugi strani pa vemo, da je $J(R)$ nilpotenten ideal, torej je $J(R)$ ravno množica vseh deliteljev niča. Iz predpostavke $x^2 = 0$ za vsak $x\in J(R)$ po lemi \ref{antikomutativnost} sledi, da je $J(R)$ antikomutativen. To pa pomeni, da iz $xy = 0$ sledi $yx=0$ in zato je $l_R(x) = r_R(x) = \ann_R(x)$ za vsak delitelj niča. Vzemimo zdaj poljuben delitelj niča $x\neq 0$. Potem iz predpostavke $x^2 = 0$ sledi, da $\ann_R(x)\neq 0$ in zato je 
$$
\deg(x) = |l_R(x)| + |r_R(x)| -| \ann_R(x) | - |\{0,x\}| = |l_R(x)| -2 
$$
sodo število. Sklenemo, da je graf Eulerjev. 
\endproof

% KONCNI NENILPOTENTNI KOLOBARJI BREZ ENOTE Z EULERJEVIM GRAFOM DELITELJEV NICA
\subsection{Končni nenilpotentni kolobarji brez enote in z Eulerjevim grafom deliteljev niča}

\begin{trditev}
\label{EulerBrezEnote}
Naj bo $R$ končen nenilpotenten kolobar brez enote. Potem je graf $\Gamma(R)$ Eulerjev natanko tedaj, ko je izpolnjen eden izmed naslednjih dveh pogojev:
\begin{enumerate}
\item $R\cong S \oplus N$, kjer je $S$ lokalni kolobar moči $|S| = 2^{\alpha}, \alpha \ge 1$ in za vsak $s\in J(S)$ velja $s^2 = 0$, $N$ pa je neničelen nilpotenten kolobar lihe moči in za vsak $x\in N$ velja $x^2 = 0$;
\item $R\cong S\oplus N$, kjer je $S$ nerazcepen kolobar brez enostranske enote moči $|S| = 2^{\alpha}, \alpha\ge 2$, za vsak $s\in J(S)$ velja $s^2 = 0$ in je kvocientni kolobar $S/J(S)$ polje, $N$ pa je nilpotenten kolobar lihe moči v katerem za vsak $x$ velja $x^2 =0 $ (lahko je $N=0$). 
\end{enumerate}
\end{trditev}

\proof
Naj bo najprej $R$ končen nenilpotenten kolobar brez enote z Eulerjevim grafom deliteljev niča. Velja $R=R_1\oplus R_2\oplus \cdots \oplus R_m, m\ge 1$ in $|R_i|=p_i^{\alpha_i}, i=1,\dots,m$ ($p_i$ paroma različna praštevila). Ker je $R$ brez enote po lemi \ref{nilpotent} obstaja indeks $i$, da $R_i$ vsebuje nilpotentni element $x$. Predpostavimo lahko, da je $x^2 = 0$ (sicer zamenjamo $x$ z $x^{n-1}$, kjer je $n$ najmanjše število, za katerega velja, da je $x^n=0$). Za stopnjo $x$ velja, da je sodo število, saj je graf Eulerjev. Po  drugi  strani pa lahko zapišemo 
$$
\deg(x) = |l_{R_j}(x) \cup r_{R_j}(x)|\cdot |R_1|\cdot \cdots \cdot \widehat{|R_j|} \cdot \cdots \cdot |R_m| - |\{0,x\}| = 
$$
$$
\big( |l_{R_j}(x)| + |r_{R_j}(x)| - |\ann_{R_j}(x)| \big)\cdot |R_1| \cdot \cdots \cdot \widehat{|R_j|} \cdot \cdots \cdot |R_m| - 2.
$$
Ker je $x\in \ann_{R_j}(x)$, je $\ann_{R_j}(x)\neq 0$ in zato je število v oklepaju enako $p_j^{\beta_j}, 1\le \beta_j \le \alpha_j$. Ker je stopnja sodo število, zaključimo, da je eno izmed praštevil $p_i$ enako 2. Predpostavimo sedaj, da je $p_1 = 2$.

Denimo, da za nek element $y\in R_2$ velja $y^2 \neq 0$. Potem lahko zapišemo
$$
\deg((0,y,0\dots,0)) =  |R_1|\cdot |l_{R_2}(y)\cup r_{R_2}(y)|\cdot |R_3| \cdot \cdots \cdot |R_m| - 1,
$$
torej je stopnja $(0,y,0,\dots,0)$ liho število, kar je v nasprotju s predpostavko, da je graf Eulerjev. To pomeni, da za vsak element $y\in R_2$ velja $y^2 = 0$. Na analogen način pokažemo, da za poljuben $y\in R_i, i\ge 2$ velja $y^2 = 0$. 

Če definiramo $N=R_2 \oplus R_3 \oplus \cdots \oplus R_m$, potem nam zgornji premislek pokaže, da za vsak $y \in N$ velja $y^2 = 0$. Po lemi \ref{nilpotenten}, je $N$ nilpotenten kolobar.

Naj bo zdaj $r\in R_1$ nilpotentni element za katerega velja $x^2  \neq 0$. Ker je $r$ nilpotenten, obstaja $n\ge 3$, da je $r^{n-1}\neq 0$ in $r^n = 0$. Potem je $r^{n-1}\in \ann_{R_1}(r)$ in posledično $\ann_{R_1}(r) \neq 0$. Posledično je 
$$
\deg((r,0,\dots,0)) = \big( |l_{R_1}(r)| + |r_{R_1}(r)| - |\ann_{R_1}(r)| \big)\cdot |R_2| \cdot \cdots \cdot |R_m| - 1
$$
liho število. To pa je v nasprotju s predpostavko. Sklenemo, da za vsak nilpotenten element $r\in R_1$ velja $r^2=0$.

Po predpostavki je kolobar $R$ nenilpotenten, torej vsebuje vsaj en nenilpotenten element. Ta mora ležati v $R_1$, saj smo videli, da je $N$ nilpotenten. Denimo, da je ta element $x$ . Zanj velja, da je $\ann_{R_1}(x) = 0$. Recimo nasprotno, da je $|\ann_{R_1}(x)|\ge 2$. Potem iz enačbe 
$$
\deg ((x,0,\dots,0)) = \big( |l_{R_1}(x) | + |r_{R_1}(x)| - |\ann_{R_1}(x)| \big) \cdot |R_2| \cdot \cdots \cdot |R_m| - 1
$$
sledi, da je $\deg((x,0,\dots,0))$ liho število, saj je člen v oklepaju oblike $2^{\beta_1}, 1\le \beta_1 \le \alpha_1$. To pa je protislovje. Zaključimo lahko, da je $\ann_{R_1}(x) = 0$ za vsak nenilpotenten element $x\in R_1$.

Denimo, da obstaja nenilpotenten element $x\in R_1$ za katerega velja $r_{R_1}(x) = 0$. Če je $_{R_1}(x) \neq 0$, potem je 
$$
\deg((x,0,\dots,0)) = |l_{R_1}(x)| \cdot |R_2| \cdot \cdots  \cdot |R_m| -1
$$  
liho število, saj je $|l_{R_1}(x)|$ sode moči (ker je prava podgrupa $R_1$). Protislovje. Sklenemo lahko, da za vsak nenilpotenten element $x\in R_1$ iz $r_{R_1}(x) = 0$ sledi $l_{R_1}(x) = 0$. Na enak način pokažemo še, da za vsak nenilpotenten element $x\in R_1$ iz $l_{R_1}(x) = 0$ sledi $r_{R_1}(x) = 0$. Odtod zaključimo, da je za vsak nenilpotenten element $x\in R_1$ bodisi $l_{R_1}(x) = r_{R_1}(x) = 0$ bodisi $l_{R_1}(x) \neq 0 \neq r_{R_1}(x)$.

Recimo, da je še kolobar $R_1$ razcepen. To pomeni, da ga lahko zapišemo kot $R_1 = S_1 \oplus S_2$, kjer sta $S_1$ in $S_2$ dva dvostranska ideala kolobarja $R_1$. Ker je $|R_1| = 2^{\alpha_1}$, sta tudi kolobarja $S_1$ in $S_2$ moči $2^{\alpha_{11}}$ in $2^{\alpha_{12}}$, kjer je $\alpha_{11} + \alpha_{12} = \alpha_1$. Ker je $R_1$ nenilpotenten, je zagotovo vsaj eden izmed $S_1$ in $S_2$ nenilpotenten, saj bi bil v nasprotnem primeru $R_1$ nilpotenten. Predpostavimo lahko, da je $S_1$ nenilpotenten. Pokažimo, da mora biti $S_2$ nilpotenten. Recimo nasprotno. Potem obstaja $s  \ in S_2$, da je $s^2 \neq 0$. Spet velja, da je 
$$
\deg((0,s,0,\dots,0)) = |S_1|\cdot |l_{S_2}(s) \cup r_{S_2}(s)| \cdot |R_2| \cdot \cdots \cdot |R_m| - 1
$$
liho število, saj je $2\le |S_1|$ potenca števila 2. Protislovje. Torej je res $S_2$ nilpotenten. Torej je $R= S_1 \oplus N_1$, kjer je $N_1 = S_2\oplus N$ nilpotenten kolobar, $S_1$ pa nerazcepen.

Poenostavimo si oznake. Zgornji premislek pokaže, da lahko $R$ zapišemo kot $R = S\oplus N$, kjer je $S$ nerazcepen nenilpotenten kolobar moči $|S| = 2^{\alpha}$, $N$ pa je nilpotenten kolobar. Dodatno velja še za vsak nilpotenten element $x\in R$, da je $x^2 = 0$.

Pokazati moramo torej še, da je $S$ bodisi lokalen kolobar in je $\alpha \ge 1$ bodisi nerazcepen kolobar brez enostranske enote in je $\alpha \ge 2$ ter $S/J(S)$ polje. Dodatno moramo videti še, da je $s^2 = 0$ za vsak $s\in J(S)$ in da je $|N|$ liho število, ki je v prvem primeru strogo večje od 1. 

Predpostavimo najprej, da v $S$ obstaja element $x$ za katerega velja $r_S(x) = l_S(x) = 0$. Po lemi \ref{enota} ima $S$ potem enoto za množenje. To že takoj implicira, da je $N\neq 0$, saj bi sicer $R$ imel enoto, kar pa je v nasprotju z našo predpostavko. Zgoraj smo že videli, da je $\ann_S(x) = 0$ za vsak nenilpotenten element $x\in S$ (uporabljali smo oznako $R_1$). Od tod sledi, da $S$ ne vsebuje ortogonalnih idempotentov. Recimo nasprotno, da obstajata $e^2 = e\in S^*$ in $f^2 = f\in S^*$ za katera velja $ef = fe=0$. Iz zadnjih dveh enakosti pa dobimo, da je $e\in l_S(f) \cap r_S(f) =\ann_S(f) = 0$, torej je $e=0$. Protislovje. Sledi, da $S$ res nima ortogonalnih idempotentov. Po ???? sledi, da je $S$ lokalen kolobar. Odtod po ???? sledi, da je $S/J(S)$ obseg, ker pa je končen, je res polje. Denimo še, da je $|N|$ sodo število. Potem je 
$$
\deg((1,0,\dots,0)) = |l_S(1)\cup r_S(1)|\cdot |N| - 1 = |N| - 1
$$
liho število. Protislovje. Sklenemo, da je v tem primeru $|N|$ res liho število. Jasno je tudi, da je v tem primeru $\alpha \ge 1$, saj smo videli, da $S$ vsebuje enoto. Prav tako smo videli, da je $J(S)$ maksimalen ideal. Po drugi strani pa vemo, da je Jacobsonov radikal maksimalni nilpotentni ideal in da vsebuje vse nil ideale. Sklenemo, da so vsi njegovi elementi nilpotentni. Zgoraj pa smo že dokazali, da je kvadrat vsakega nilpotentnega elementa enak 0. Sklenemo torej, da je $s^2 = 0$ za vsak $s\in J(S)$.

Predpostavimo zdaj, da za vsak nenilpotenten element $x \in S$ velja $l_S(x) \neq 0, r_S(x) \neq 0$. Potem $S$ zagotovo ne vsebuje enostranske enote (če bi jo, je to v nasprotju s predpostavko na leve in desne anihilatorje). Po lemi \ref{ortogIdemp} sledi, da $S$ ne vsebuje ortogonalnih idempotentov. Od tu po ???? sledi, da je $S$ lokalen kolobar in posledično je tako kot zgoraj $S/J(S)$ po ???? končen obseg, torej polje. To pa pomeni, da je $S/J(S) \cong \GF(2^k)$. Veljati mora $k\ge 1$, saj bi v primeru $k=0$ veljalo $S \cong J(S)$, torej bi bil $S$ nilpotenten kolobar. Protislovje. Sledi, da $|S| \ge 2$. Če bi veljalo $|S| = 2$, bi bil $S=\{0,x\}$, kjer je $x^2$ bodisi $0$ bodisi $x$. Jasno je, da $x^2 \neq 0$, saj bi bil sicer $S$ nilpotenten kolobar, kar je v nasprotju z našo predpostavko. Sledi, da je $x^2 = x$. Potem pa je $l_S(x) = 0, r_S(x) = 0$. Protislovje. Sklenemo, da mora veljati $|S| \ge 4$, to je $\alpha \ge 2$. Enako kot zgoraj sledi tudi, da za vsak $ s \in J(S)$ velja $s^2 = 0$. Pokažimo še, da je $|N| $ liho število. Recimo nasprotno, da je sodo. Po lemi \ref{idempotent} sledi, da $S$ vsebuje idempotent $e$ . Potem je 
$$
\deg((e,0,\dots,0)) = \big(|l_S(e)| + |r_S(e)| - |\ann_S(e)| \big)\cdot |N| -1 =
$$
$$
 \big(|l_S(e)| + |r_S(e)| - 1 \big)\cdot |N| -1
$$
liho število (ker je $e$ idempotent, ni nilpotent, za take elemente pa smo zgoraj pokazali, da je $\ann_S(\cdot) = 0$). Protislovje. Torej ima $N$ liho število elementov. S tem je izrek dokazan v eno smer.

Pokažimo še obrat. Naj bo $R\cong S\oplus N$, kjer je $S$ lokalni kolobar moči $|S| = 2^{\alpha}, \alpha \ge 1$ in $s^2 = 0 $ za vsak $s\in J(S)$, kolobar $N$ pa je neničelen nenilpotenten kolobar lihe moči, poleg tega pa še za vsak $x\in N$ velja $x^2 = 0$. Po lemi \ref{antikomutativnost} sta $J(S)$ in $N$ antikomutativna . Naj bo zdaj $x= (s,n) \in R, s\in S, n\in N$. Recimo najprej, da je $s\in J(S)$. Potem po predpostavki velja $s^2 = 0$. Ker pa je poleg tega še $n^2 = 0$, je 
$$
\deg(x) = |\ann_S(s)|\cdot|\ann_N(n)| - |\{0,a\}| =   |\ann_S(s)|\cdot|\ann_N(n)| - 2.
$$
Ker $0,s\in \ann_S(s)$, je zagotovo $|\ann_S(s)|\ge 2$, torej je $\deg(x)$ sodo število.

POZOR

Naj bo zdaj še $s\notin J(S)$. Potem je po ???? $s$ obrnljiv element v $S$. Zato je 
$$
\deg(x) = |\ann_N(n)| - 1.
$$
Ker pa je po predpostavki moč $N$ liho število, je stopnja $x$ sodo število. To pokaže, da je graf $\Gamma(Z(R))$ v tem primeru Eulerjev.

Naj bo zdaj $R\cong S\oplus N$, kjer je $S$ nerazcepen kolobar brez enostranske enote moči $|S| = 2^{\alpha}, \alpha \ge 2$, poleg tega je $S/J(S)$ polje in $s^2 = 0$ za vsak $s\in J(S)$, za $N$ pa velja, da je nilpotenten kolobar lihe moči in za vsak $x\in N$ je $x^2 = 0$. Naj bo spet $x=(s,n)\in R, s\in S, n\in N$. Naj bo $s\in J(S)$. Potem je $s^2 = 0$ in zato je $0,s \in \ann_S(s)$. Sledi, da je  
$$
\deg(x) = |l_S(s) \cup r_S(s)|\cdot |\ann_N(n)| - 2
$$
sodo število.

Naj bo $s\notin J(S)$. Potem $s$ ni nilpotenten. Na enak način kot v dokazu leme \ref{idempotent} skonstruiramo $k\in \N$, da je $s^k = f = f^2\neq 0$ neničelen idempotent. Ker po predpostavki velja, da $S$ ne vsebuje enostranske enote, je množica
$$
(1-f)S = \{r-fr; r\in S\}\neq 0.
$$
Bralca naj ne zmoti zapis $(1-f)S$, saj je to le oznaka za množico. Podobno je 
$$
S(1-f) = \{r-rf;r\in S\} \neq 0.
$$
Takoj tudi vidimo, da velja $l_S(f) \neq 0$ in $r_S(f) \neq 0$. Recimo na primer, da je $l_S(f)=0$. Potem je za vsak $a\in S^*$ res zveza $af \neq 0$. To pa pomeni, da je preslikava $x\mapsto xf$ bijekcija. Obstajati mora torej element $y$, da je $f=yf$. Potem za poljuben $t\in S$ velja $tf = tyf$ oziroma $(t-ty)f=0 $, od koder zaključimo $t = ty$. To pa pomeni, da je $t$ leva enota. Protislovje. Sklenemo, da je res $l_S(f) \neq 0$ in $r_S(f) \neq 0$. Enako pokažemo še, da je $l_S(s) \neq 0$ in $r_S(s) \neq 0$. Predpostavimo sedaj, da je $\ann_S(f) \neq 0$ in naj bo $r\in \ann_S(f)^*$. Potem velja
$$
r = r + 0 = r - rf - fr + frf, 
$$
kar pomeni, da element $r$ pripada množici $(1-f)S(1-f) = \{x-xf-fx+fxf; x\in S\}$, torej $\ann_S(f) \subseteq (1-f)S(1-f)$. Naj bo zdaj $y\in (1-f)S(1-f)$. Potem lahko zapišemo 
$$
y = y_0 - y_0 f -f y_0 + fy_0 f.
$$
Poglejmo si produkta $yf$ in $fy$. Velja 
$$
fy = fy_0 - fy_0 f - f^2 y_0 + f^f y_0 f = 0
$$
in
$$
yf = y_0 f - y_0 f^2 - fy_0 f + fy_0 f^2=0,
$$
kjer sta oba produkta enaka 0, ker je $f$ idempotent. To pomeni, da $y\in \ann_S(f)$, torej $(1-f)S(1-f) \subseteq \ann_S(f)$. Če združimo obe inkluziji, dobimo zvezo $\ann_S(f) = (1-f)S(1-f)$.

Zapišimo sedaj $S$ kot direktno vsoto grup
$$
S = fSf + fS(1-f) + (1-f)Sf + (1-f)S(1-f).
$$
Pokažimo sedaj, da so množice  $fS(1-f), (1-f)Sf, (1-f)S(1-f) \subseteq J(S)$. V ta namen si poglejmo preslikavo $\pi : S \rightarrow S/J(S)$ podano s predpisom $x\mapsto x+J(S)$. Če vzamemo poljueben element iz množice $fS(1-f)$ in ga z desne pomnožimo z elementom $f$ dobimo 0, podobno dobimo 0, če poljuben element iz množice $(1-f)Sf$ ali $(1-f)S(1-f)$ z leve pomnožimo z $f$. Ugotovili smo torej, da so elementi v teh množicah vsaj enostranski delitelji niča. Poglejmo si, kaj se z njimi zgodi, ko jih preslikamo s $\pi$. Ker je po predpostavki $S/J(S)$ polje, je torej brez deliteljev niča, torej se morajo elementi iz množic $fS(1-f), (1-f)Sf, (1-f)S(1-f)$ slikati v $0+J(S)$. To pa pomeni, da velja $fS(1-f), (1-f)Sf, (1-f)S(1-f) \subseteq J(S)$. Ker je $\ann_S(f) = (1-f)S(1-f) \subseteq J(S)$ in je Jacobsonov radikal nilpotenten, je tudi $\ann_S(f)$ nilpotenten dvostranski ideal (dvostranski ideal je, ker je $J(S)$ antikomutativen po lemi \ref{antikomutativnost}). Definirajmo sedaj $S_1 = fSf + fS(1-f) + (1-f)Sf$. Trdimo, da je $\ann_S(f) \subseteq \ann_S(S_1)$. Jasno je, da poljuben element iz $\ann_S(f)$ uniči vsak element iz $fSf$, prav tako velja, da je za vsak $x\in \ann_S(f)$ $x\cdot fS(1-f) = 0$. Pokažimo še, da je tudi $fS(1-f) \cdot x = 0$. Ker sta $fS(1-f), \ann_S(f)\subseteq J(S)$ zaradi antikomutativnosti $J(S)$ velja $fS(1-f) \cdot x = - x\cdot fS(1-f) = 0$. Podobno velja za množico $(1-f)Sf$, torej je res $\ann_S(f) \subseteq \ann_S(S_1)$. 

Poglejmo si sedaj $x\in S_1 \cap \ann_S(f) $. Recimo, da je $x\neq0 $. Potem je $x = fx_1 f + (fx_2 - fx_2 f) + (x_3 f - fx_3 f)$ in je vsaj eden izmed elementov $x_i \neq 0$. Potem je $fx = fx_1 f + (fx_2 - fx_2 f ) $ in $xf = fx_1f + (x_3f - fx_3f)$ in je vsaj eden izmed teh dveh elementov neničelen. To pa je v nasprotju s tem, da je $x\in \ann_S(f)$. Sledi, da je $S_1 \cap \ann_S(f) = 0$. Posledično lahko zapišemo $S = S_1 \oplus \ann_S(f)$ (vemo že, da je $\ann_S(f)$ dvostranski ideal, ker pa sta množici $fS(1-f),(1-f)Sf \subseteq J(S) $ in je slednji antikomutativen, je tudi $S_1$ dvostranski ideal). Ker je $0\neq f\in S_1$ , je torej $S_1\neq 0$ in je zgornja dekompozicija v nasprotju z nerazcepnostjo kolobarja $S$. Sklenemo, da je $\ann_S(f) = 0$. Ker je $\ann_S(s) \subseteq \ann_S(f)$ (velja ker je za $x\in \ann_S(s)$ tudi $fx = s^k x = s^{k-1 } sx = 0$ ), je $\ann_S(s) = 0$. Spet pogledamo stopnjo
$$
\deg(x) = |l_S(s) \cup r_S(s)|\cdot |\ann_N(n)|-1 = (|l_S(s) | + |r_S(s)|-1)\cdot |\ann_N(n)| - 1.
$$
Prvi faktor je liho število, torej je $x$ sode stopnje. Sklenemo, da je graf res Eulerjev.

\endproof

% KONCNI KOLOBARJI Z EULERJEVIM GRAFOM DELITELJEV NICA

\subsection{Končni kolobarji z Eulerjevim grafom deliteljev niča}

Če združimo zadnje tri trditve dobimo naslednji izrek, ki karakterizira vse končne kolobarje z Eulerjevim grafom deliteljev niča.

\begin{izrek}
\label{EulerGraf}
Naj bo $R$ končen kolobar, ki ni polje. Potem je graf $\Gamma(R)$ Eulerjev natanko tedaj, ko $R$ zadošča enemu izmed naslednjih pogojev
\begin{enumerate}
\item $R \cong \oplus_{i=1}^k \GF(p_i^{\alpha_i})$, kjer so $p_i$ liha praštevila in je $k\ge 2$;
\item $R$ je nilpotenten kolobar sode moči in za vsak $x\in R$ velja $x^2 = 0$;
\item $R\cong S\oplus N$, kjer je $S$ lokalen kolobar moči $|S| = 2^{\alpha}, \alpha \ge 1$ in za vsak $s\in J(S)$ velja $s^2 = 0$, $N$ pa je nilpotenten kolobar lihe moči in za vsak $x\in N$ velja $x^2 = 0$. Lahko je tudi $N=0$;
\item $\R\cong S \oplus N$, kjer je $S$ nerazcepen kolobar moči $|S| = 2^{\alpha}, \alpha \ge 2$, za vsak $s\in J(S)$ velja $s^2 = 0$, vsaka enostranska enota $S$ je dvostranska enota za $S$ in $S/J(S)$ je polje, $N$ pa je nilpotenten kolobar lihe moči in za vsak $x\in N$ velja $x^2 = 0$. Lahko je tudi $N=0$.
\end{enumerate} 
\end{izrek}

\proof
Pri dokazu tega izreka je potrebno le pravilno zložiti skupaj prejšnje trditve. 

Če je $R$ kot v $(1)$, potem po prvi točki trditve \ref{EulerEnotski} sledi, da je graf $\Gamma(R)$ Eulerjev, če pa je $R$ kot v $(2)$ točki, je po trditvi \ref{EulerNilpotenten} graf $\Gamma(R)$ Eulerjev. Naj bo zdaj $R$ kot v točki $(3)$. Denimo najprej, da je $N=0$. Ker $R$ ni polje, mora biti $\alpha \ge 2$. Potem je po drugi točki trditve \ref{EulerEnotski} graf $\Gamma(R)$ Eulerjev. Naj bo zdaj še $N\neq 0$. Potem je po prvi točki trditve \ref{EulerBrezEnote} graf $\Gamma(R)$ Eulerjev. Ostane nam še primer, ko je $R$ kot v $(4)$. Denimo najprej, da $S$ nima enostranske enote. Potem je po drugi točki trditve \ref{EulerBrezEnote} graf $\Gamma(R)$ Eulerjev. Denimo torej, da ima $S$ enostransko enoto. Po predpostavki to pomeni, da ima tudi dvostransko enoto. Ker je $S/J(S)$ polje, je $J(S)$ edini maksimalni levi ideal in zato je $S$ lokalen kolobar. Če je sedaj še $N=0$, je $R=S$ enotski lokalni kolobar in zato je po drugi točki trditve \ref{EulerEnotski} graf $\Gamma(R)$ Eulerjev. Če pa je $N\neq 0$, je $\Gamma(R)$ po prvi točki trditve \ref{EulerBrezEnote} Eulerjev graf.

Pokažimo še obrat. 
Če je $R$ nilpotenten kolobar z Eulerjevim grafom deliteljev niča, je $R$ tak kot v $(2)$ po trditvi \ref{EulerNilpotenten}. Če je $R$ enotski kolobar z Eulerjevim grafom deliteljev niča, je po trditvi \ref{EulerEnotski} $R$ tak kot v $(1)$ ali $(3)$, pri čemer je $N=0$ in $\alpha \ge 2$. Če pa je $R$ nenilpotenten kolobar brez enote z Eulerjevim grafom deliteljev niča, je $R$ po trditvi \ref{EulerBrezEnote} bodisi tak kot v $(3)$ pri čemer je $N\neq 0$ (če $R$ zadošča prvi točki omenjene trditve) bodisi kot v $(4)$ pri čemer je $S$ nima enostranske enote (če $R$ zadošča drugi točki omenjene trditve). 

\endproof

\begin{opomba}
Če je v točki $(4)$ zgornjega izreka \ref{EulerGraf} kolobar $S$ tak, da ima dvostransko enoto, potem iz pogoja $S/J(S)$ sledi, da je $J(S)$ enolično določeni maksimalni levi ideal, torej je $S$ lokalen kolobar. Točka $(4)$  je v tem primeru ekvivalentna s točko $(3)$.
\end{opomba}

% LITERATURA
\begin{thebibliography}{99}
\bibitem{Lesniak}G. Chartrand in L. Lesniak, \emph{Graphs \& Digraphs, third edition}, Chapman \& Hall/CRC,  1996.
\bibitem{Fine}B. Fine, \emph{Classification of Finite Rings of Order $p^2$}, Mathematics Magazine {\bf 66} (1993) 248-252. 
\bibitem{Gibbons}A. Gibbons, \emph{Algorithmic graph theory}, Cambridge University Press, 1985.
\bibitem{Kuzmina-Euler}A. S. Kuzmina, \emph{Finite rings with Eulerian zero-divisor graphs}, Journal of Algebra and Its Applications {\bf 11} (2012).
\end{thebibliography}


\end{document}